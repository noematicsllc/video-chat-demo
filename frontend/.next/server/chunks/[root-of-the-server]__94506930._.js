module.exports=[51615,(e,n,a)=>{n.exports=e.x("node:buffer",()=>require("node:buffer"))},12057,(e,n,a)=>{n.exports=e.x("node:util",()=>require("node:util"))},78473,e=>{"use strict";var n,a,t,r,i,s,o,m,d=e.i(47909),l=e.i(74017),c=e.i(96250),u=e.i(59756),T=e.i(61916),p=e.i(14444),k=e.i(37092),f=e.i(69741),_=e.i(16795),g=e.i(87718),h=e.i(95169),y=e.i(47587),E=e.i(66012),S=e.i(70101),b=e.i(26937),I=e.i(10372),N=e.i(93695);e.i(52474);var v=e.i(220),A=e.i(89171);function w(e,n){if(!e)throw Error(n)}function O(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>0x7fffffff||e<-0x80000000)throw Error("invalid int 32: "+e)}function R(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>0xffffffff||e<0)throw Error("invalid uint 32: "+e)}function P(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}let U=Symbol("@bufbuild/protobuf/enum-type");function D(e,n,a,t){e[U]=L(n,a.map(n=>({no:n.no,name:n.name,localName:e[n.no]})),t)}function L(e,n,a){let t=Object.create(null),r=Object.create(null),i=[];for(let e of n){let n=M(e);i.push(n),t[e.name]=n,r[e.no]=n}return{typeName:e,values:i,findName:e=>t[e],findNumber:e=>r[e]}}function M(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class C{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){let a=this.getType().runtime.bin,t=a.makeReadOptions(n);return a.readMessage(this,t.readerFactory(e),e.byteLength,t),this}fromJson(e,n){let a=this.getType(),t=a.runtime.json,r=t.makeReadOptions(n);return t.readMessage(a,e,r,this),this}fromJsonString(e,n){let a;try{a=JSON.parse(e)}catch(e){throw Error(`cannot decode ${this.getType().typeName} from JSON: ${e instanceof Error?e.message:String(e)}`)}return this.fromJson(a,n)}toBinary(e){let n=this.getType().runtime.bin,a=n.makeWriteOptions(e),t=a.writerFactory();return n.writeMessage(this,t,a),t.finish()}toJson(e){let n=this.getType().runtime.json,a=n.makeWriteOptions(e);return n.writeMessage(this,a)}toJsonString(e){var n;return JSON.stringify(this.toJson(e),null,null!=(n=null==e?void 0:e.prettySpaces)?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function F(){let e=0,n=0;for(let a=0;a<28;a+=7){let t=this.buf[this.pos++];if(e|=(127&t)<<a,(128&t)==0)return this.assertBounds(),[e,n]}let a=this.buf[this.pos++];if(e|=(15&a)<<28,n=(112&a)>>4,(128&a)==0)return this.assertBounds(),[e,n];for(let a=3;a<=31;a+=7){let t=this.buf[this.pos++];if(n|=(127&t)<<a,(128&t)==0)return this.assertBounds(),[e,n]}throw Error("invalid varint")}function B(e,n,a){for(let t=0;t<28;t+=7){let r=e>>>t,i=r>>>7!=0||0!=n,s=(i?128|r:r)&255;if(a.push(s),!i)return}let t=e>>>28&15|(7&n)<<4,r=n>>3!=0;if(a.push((r?128|t:t)&255),r){for(let e=3;e<31;e+=7){let t=n>>>e,r=t>>>7!=0,i=(r?128|t:t)&255;if(a.push(i),!r)return}a.push(n>>>31&1)}}function H(e){let n="-"===e[0];n&&(e=e.slice(1));let a=0,t=0;function r(n,r){let i=Number(e.slice(n,r));t*=1e6,(a=1e6*a+i)>=0x100000000&&(t+=a/0x100000000|0,a%=0x100000000)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),n?$(a,t):J(a,t)}function x(e,n){if({lo:e,hi:n}={lo:e>>>0,hi:n>>>0},n<=2097151)return String(0x100000000*n+e);let a=0xffffff&e,t=(e>>>24|n<<8)&0xffffff,r=n>>16&65535,i=a+6777216*t+6710656*r,s=t+8147497*r,o=2*r;return i>=1e7&&(s+=Math.floor(i/1e7),i%=1e7),s>=1e7&&(o+=Math.floor(s/1e7),s%=1e7),o.toString()+j(s)+j(i)}function J(e,n){return{lo:0|e,hi:0|n}}function $(e,n){return n=~n,e?e=~e+1:n+=1,J(e,n)}let j=e=>{let n=String(e);return"0000000".slice(n.length)+n};function K(e,n){if(e>=0){for(;e>127;)n.push(127&e|128),e>>>=7;n.push(e)}else{for(let a=0;a<9;a++)n.push(127&e|128),e>>=7;n.push(1)}}function V(){let e=this.buf[this.pos++],n=127&e;if((128&e)==0||(n|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(n|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(n|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),n;n|=(15&(e=this.buf[this.pos++]))<<28;for(let n=5;(128&e)!=0&&n<10;n++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),n>>>0}let G=function(){let e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){let n=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),t=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){let t="bigint"==typeof e?e:BigInt(e);if(t>a||t<n)throw Error(`int64 invalid: ${e}`);return t},uParse(e){let n="bigint"==typeof e?e:BigInt(e);if(n>r||n<t)throw Error(`uint64 invalid: ${e}`);return n},enc(n){return e.setBigInt64(0,this.parse(n),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(n){return e.setBigInt64(0,this.uParse(n),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(n,a)=>(e.setInt32(0,n,!0),e.setInt32(4,a,!0),e.getBigInt64(0,!0)),uDec:(n,a)=>(e.setInt32(0,n,!0),e.setInt32(4,a,!0),e.getBigUint64(0,!0))}}let n=e=>w(/^-?[0-9]+$/.test(e),`int64 invalid: ${e}`),a=e=>w(/^[0-9]+$/.test(e),`uint64 invalid: ${e}`);return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),a(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),n(e),H(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),a(e),H(e)),dec:(e,n)=>{let a,t,r;return(t=0x80000000&(a=J(e,n)).hi)&&(a=$(a.lo,a.hi)),r=x(a.lo,a.hi),t?"-"+r:r},uDec:(e,n)=>x(e,n)}}();function q(e,n,a){if(n===a)return!0;if(e==s.BYTES){if(!(n instanceof Uint8Array)||!(a instanceof Uint8Array)||n.length!==a.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==a[e])return!1;return!0}switch(e){case s.UINT64:case s.FIXED64:case s.INT64:case s.SFIXED64:case s.SINT64:return n==a}return!1}function W(e,n){switch(e){case s.BOOL:return!1;case s.UINT64:case s.FIXED64:case s.INT64:case s.SFIXED64:case s.SINT64:return 0==n?G.zero:"0";case s.DOUBLE:case s.FLOAT:return 0;case s.BYTES:return new Uint8Array(0);case s.STRING:return"";default:return 0}}function Y(e,n){switch(e){case s.BOOL:return!1===n;case s.STRING:return""===n;case s.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return 0==n}}function X(e){let n=e.field.localName,a=Object.create(null);return a[n]=function(e){let n=e.field;if(n.repeated)return[];if(void 0!==n.default)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return W(n.T,n.L);case"message":let a=n.T,t=new a;return a.fieldWrapper?a.fieldWrapper.unwrapField(t):t;case"map":throw"map fields are not allowed to be extensions"}}(e),[a,()=>a[n]]}(n=s||(s={}))[n.DOUBLE=1]="DOUBLE",n[n.FLOAT=2]="FLOAT",n[n.INT64=3]="INT64",n[n.UINT64=4]="UINT64",n[n.INT32=5]="INT32",n[n.FIXED64=6]="FIXED64",n[n.FIXED32=7]="FIXED32",n[n.BOOL=8]="BOOL",n[n.STRING=9]="STRING",n[n.BYTES=12]="BYTES",n[n.UINT32=13]="UINT32",n[n.SFIXED32=15]="SFIXED32",n[n.SFIXED64=16]="SFIXED64",n[n.SINT32=17]="SINT32",n[n.SINT64=18]="SINT64",(a=o||(o={}))[a.BIGINT=0]="BIGINT",a[a.STRING=1]="STRING";let z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Q=[];for(let e=0;e<z.length;e++)Q[z[e].charCodeAt(0)]=e;Q[45]=z.indexOf("+"),Q[95]=z.indexOf("/");let Z={dec(e){let n=3*e.length/4;"="==e[e.length-2]?n-=2:"="==e[e.length-1]&&(n-=1);let a=new Uint8Array(n),t=0,r=0,i,s=0;for(let n=0;n<e.length;n++){if(void 0===(i=Q[e.charCodeAt(n)]))switch(e[n]){case"=":r=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=i,r=1;break;case 1:a[t++]=s<<2|(48&i)>>4,s=i,r=2;break;case 2:a[t++]=(15&s)<<4|(60&i)>>2,s=i,r=3;break;case 3:a[t++]=(3&s)<<6|i,r=0}}if(1==r)throw Error("invalid base64 string.");return a.subarray(0,t)},enc(e){let n="",a=0,t,r=0;for(let i=0;i<e.length;i++)switch(t=e[i],a){case 0:n+=z[t>>2],r=(3&t)<<4,a=1;break;case 1:n+=z[r|t>>4],r=(15&t)<<2,a=2;break;case 2:n+=z[r|t>>6],n+=z[63&t],a=0}return a&&(n+=z[r],n+="=",1==a&&(n+="=")),n}};function ee(e,n){let a=e.getType();return n.extendee.typeName===a.typeName&&!!a.runtime.bin.listUnknownFields(e).find(e=>e.no==n.field.no)}function en(e,n){w(e.extendee.typeName==n.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function ea(e,n){let a=e.localName;if(e.repeated)return n[a].length>0;if(e.oneof)return n[e.oneof.localName].case===a;switch(e.kind){case"enum":case"scalar":if(e.opt||e.req)return void 0!==n[a];if("enum"==e.kind)return n[a]!==e.T.values[0].no;return!Y(e.T,n[a]);case"message":return void 0!==n[a];case"map":return Object.keys(n[a]).length>0}}function et(e,n){let a=e.localName,t=!e.opt&&!e.req;if(e.repeated)n[a]=[];else if(e.oneof)n[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":n[a]={};break;case"enum":n[a]=t?e.T.values[0].no:void 0;break;case"scalar":n[a]=t?W(e.T,e.L):void 0;break;case"message":n[a]=void 0}}function er(e,n){if(null===e||"object"!=typeof e||!Object.getOwnPropertyNames(C.prototype).every(n=>n in e&&"function"==typeof e[n]))return!1;let a=e.getType();return null!==a&&"function"==typeof a&&"typeName"in a&&"string"==typeof a.typeName&&(void 0===n||a.typeName==n.typeName)}function ei(e,n){return er(n)||!e.fieldWrapper?n:e.fieldWrapper.wrapField(n)}s.DOUBLE,s.FLOAT,s.INT64,s.UINT64,s.INT32,s.UINT32,s.BOOL,s.STRING,s.BYTES;let es={ignoreUnknownFields:!1},eo={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},em=Symbol(),ed=Symbol();function el(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function ec(e,n,a,t,r){let i=a.localName;if(a.repeated){if(w("map"!=a.kind),null===n)return;if(!Array.isArray(n))throw Error(`cannot decode field ${r.typeName}.${a.name} from JSON: ${el(n)}`);let s=e[i];for(let e of n){if(null===e)throw Error(`cannot decode field ${r.typeName}.${a.name} from JSON: ${el(e)}`);switch(a.kind){case"message":s.push(a.T.fromJson(e,t));break;case"enum":let n=eT(a.T,e,t.ignoreUnknownFields,!0);n!==ed&&s.push(n);break;case"scalar":try{s.push(eu(a.T,e,a.L,!0))}catch(t){let n=`cannot decode field ${r.typeName}.${a.name} from JSON: ${el(e)}`;throw t instanceof Error&&t.message.length>0&&(n+=`: ${t.message}`),Error(n)}}}}else if("map"==a.kind){if(null===n)return;if("object"!=typeof n||Array.isArray(n))throw Error(`cannot decode field ${r.typeName}.${a.name} from JSON: ${el(n)}`);let m=e[i];for(let[e,i]of Object.entries(n)){let d;if(null===i)throw Error(`cannot decode field ${r.typeName}.${a.name} from JSON: map value null`);try{d=function(e,n){if(e===s.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1}return eu(e,n,o.BIGINT,!0).toString()}(a.K,e)}catch(t){let e=`cannot decode map key for field ${r.typeName}.${a.name} from JSON: ${el(n)}`;throw t instanceof Error&&t.message.length>0&&(e+=`: ${t.message}`),Error(e)}switch(a.V.kind){case"message":m[d]=a.V.T.fromJson(i,t);break;case"enum":let l=eT(a.V.T,i,t.ignoreUnknownFields,!0);l!==ed&&(m[d]=l);break;case"scalar":try{m[d]=eu(a.V.T,i,o.BIGINT,!0)}catch(t){let e=`cannot decode map value for field ${r.typeName}.${a.name} from JSON: ${el(n)}`;throw t instanceof Error&&t.message.length>0&&(e+=`: ${t.message}`),Error(e)}}}}else switch(a.oneof&&(e=e[a.oneof.localName]={case:i},i="value"),a.kind){case"message":let m=a.T;if(null===n&&"google.protobuf.Value"!=m.typeName)return;let d=e[i];er(d)?d.fromJson(n,t):(e[i]=d=m.fromJson(n,t),m.fieldWrapper&&!a.oneof&&(e[i]=m.fieldWrapper.unwrapField(d)));break;case"enum":let l=eT(a.T,n,t.ignoreUnknownFields,!1);switch(l){case em:et(a,e);break;case ed:break;default:e[i]=l}break;case"scalar":try{let t=eu(a.T,n,a.L,!1);t===em?et(a,e):e[i]=t}catch(t){let e=`cannot decode field ${r.typeName}.${a.name} from JSON: ${el(n)}`;throw t instanceof Error&&t.message.length>0&&(e+=`: ${t.message}`),Error(e)}}}function eu(e,n,a,t){if(null===n)return t?W(e,a):em;switch(e){case s.DOUBLE:case s.FLOAT:if("NaN"===n)return NaN;if("Infinity"===n)return 1/0;if("-Infinity"===n)return-1/0;if(""===n||"string"==typeof n&&n.trim().length!==n.length||"string"!=typeof n&&"number"!=typeof n)break;let r=Number(n);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==s.FLOAT&&P(r),r;case s.INT32:case s.FIXED32:case s.SFIXED32:case s.SINT32:case s.UINT32:let i;if("number"==typeof n?i=n:"string"==typeof n&&n.length>0&&n.trim().length===n.length&&(i=Number(n)),void 0===i)break;return e==s.UINT32||e==s.FIXED32?R(i):O(i),i;case s.INT64:case s.SFIXED64:case s.SINT64:if("number"!=typeof n&&"string"!=typeof n)break;let o=G.parse(n);return a?o.toString():o;case s.FIXED64:case s.UINT64:if("number"!=typeof n&&"string"!=typeof n)break;let m=G.uParse(n);return a?m.toString():m;case s.BOOL:if("boolean"!=typeof n)break;return n;case s.STRING:if("string"!=typeof n)break;try{encodeURIComponent(n)}catch(e){throw Error("invalid UTF8")}return n;case s.BYTES:if(""===n)return new Uint8Array(0);if("string"!=typeof n)break;return Z.dec(n)}throw Error()}function eT(e,n,a,t){if(null===n)return"google.protobuf.NullValue"==e.typeName?0:t?e.values[0].no:em;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":let r=e.findName(n);if(void 0!==r)return r.no;if(a)return ed}throw Error(`cannot decode enum ${e.typeName} from JSON: ${el(n)}`)}function ep(e,n,a){if("map"==e.kind){w("object"==typeof n&&null!=n);let t={},r=Object.entries(n);switch(e.V.kind){case"scalar":for(let[n,a]of r)t[n.toString()]=ef(e.V.T,a);break;case"message":for(let[e,n]of r)t[e.toString()]=n.toJson(a);break;case"enum":let i=e.V.T;for(let[e,n]of r)t[e.toString()]=ek(i,n,a.enumAsInteger)}return a.emitDefaultValues||r.length>0?t:void 0}if(e.repeated){w(Array.isArray(n));let t=[];switch(e.kind){case"scalar":for(let a=0;a<n.length;a++)t.push(ef(e.T,n[a]));break;case"enum":for(let r=0;r<n.length;r++)t.push(ek(e.T,n[r],a.enumAsInteger));break;case"message":for(let e=0;e<n.length;e++)t.push(n[e].toJson(a))}return a.emitDefaultValues||t.length>0?t:void 0}switch(e.kind){case"scalar":return ef(e.T,n);case"enum":return ek(e.T,n,a.enumAsInteger);case"message":return ei(e.T,n).toJson(a)}}function ek(e,n,a){var t;if(w("number"==typeof n),"google.protobuf.NullValue"==e.typeName)return null;if(a)return n;let r=e.findNumber(n);return null!=(t=null==r?void 0:r.name)?t:n}function ef(e,n){switch(e){case s.INT32:case s.SFIXED32:case s.SINT32:case s.FIXED32:case s.UINT32:return w("number"==typeof n),n;case s.FLOAT:case s.DOUBLE:if(w("number"==typeof n),Number.isNaN(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";return n;case s.STRING:return w("string"==typeof n),n;case s.BOOL:return w("boolean"==typeof n),n;case s.UINT64:case s.FIXED64:case s.INT64:case s.SFIXED64:case s.SINT64:return w("bigint"==typeof n||"string"==typeof n||"number"==typeof n),n.toString();case s.BYTES:return w(n instanceof Uint8Array),Z.enc(n)}}(t=m||(m={}))[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32";class e_{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let n=0;n<this.chunks.length;n++)e+=this.chunks[n].length;let n=new Uint8Array(e),a=0;for(let e=0;e<this.chunks.length;e++)n.set(this.chunks[e],a),a+=this.chunks[e].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(R(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return O(e),K(e,this.buf),this}bool(e){return this.buf.push(+!!e),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){P(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){R(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){O(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return O(e),K(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let n=new Uint8Array(8),a=new DataView(n.buffer),t=G.enc(e);return a.setInt32(0,t.lo,!0),a.setInt32(4,t.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),a=new DataView(n.buffer),t=G.uEnc(e);return a.setInt32(0,t.lo,!0),a.setInt32(4,t.hi,!0),this.raw(n)}int64(e){let n=G.enc(e);return B(n.lo,n.hi,this.buf),this}sint64(e){let n=G.enc(e),a=n.hi>>31;return B(n.lo<<1^a,(n.hi<<1|n.lo>>>31)^a,this.buf),this}uint64(e){let n=G.uEnc(e);return B(n.lo,n.hi,this.buf),this}}class eg{constructor(e,n){this.varint64=F,this.uint32=V,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=n?n:new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,a=7&e;if(n<=0||a<0||a>5)throw Error("illegal tag: field no "+n+" wire type "+a);return[n,a]}skip(e,n){let a=this.pos;switch(e){case m.Varint:for(;128&this.buf[this.pos++];);break;case m.Bit64:this.pos+=4;case m.Bit32:this.pos+=4;break;case m.LengthDelimited:let t=this.uint32();this.pos+=t;break;case m.StartGroup:for(;;){let[e,a]=this.tag();if(a===m.EndGroup){if(void 0!==n&&e!==n)throw Error("invalid end group tag");break}this.skip(a,e)}break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(a,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return G.dec(...this.varint64())}uint64(){return G.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),a=-(1&e);return e=(e>>>1|(1&n)<<31)^a,n=n>>>1^a,G.dec(e,n)}bool(){let[e,n]=this.varint64();return 0!==e||0!==n}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return G.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return G.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}let eh=Symbol("@bufbuild/protobuf/unknown-fields"),ey={readUnknownFields:!0,readerFactory:e=>new eg(e)},eE={writeUnknownFields:!0,writerFactory:()=>new e_};function eS(e,n,a,t,r){let{repeated:i,localName:d}=a;switch(a.oneof&&((e=e[a.oneof.localName]).case!=d&&delete e.value,e.case=d,d="value"),a.kind){case"scalar":case"enum":let l="enum"==a.kind?s.INT32:a.T,c=eN;if("scalar"==a.kind&&a.L>0&&(c=eI),i){let a=e[d];if(t==m.LengthDelimited&&l!=s.STRING&&l!=s.BYTES){let e=n.uint32()+n.pos;for(;n.pos<e;)a.push(c(n,l))}else a.push(c(n,l))}else e[d]=c(n,l);break;case"message":let u=a.T;i?e[d].push(eb(n,new u,r,a)):er(e[d])?eb(n,e[d],r,a):(e[d]=eb(n,new u,r,a),!u.fieldWrapper||a.oneof||a.repeated||(e[d]=u.fieldWrapper.unwrapField(e[d])));break;case"map":let[T,p]=function(e,n,a){let t,r,i=n.uint32(),s=n.pos+i;for(;n.pos<s;){let[i]=n.tag();switch(i){case 1:t=eN(n,e.K);break;case 2:switch(e.V.kind){case"scalar":r=eN(n,e.V.T);break;case"enum":r=n.int32();break;case"message":r=eb(n,new e.V.T,a,void 0)}}}if(void 0===t&&(t=W(e.K,o.BIGINT)),"string"!=typeof t&&"number"!=typeof t&&(t=t.toString()),void 0===r)switch(e.V.kind){case"scalar":r=W(e.V.T,o.BIGINT);break;case"enum":r=e.V.T.values[0].no;break;case"message":r=new e.V.T}return[t,r]}(a,n,r);e[d][T]=p}}function eb(e,n,a,t){let r=n.getType().runtime.bin,i=null==t?void 0:t.delimited;return r.readMessage(n,e,i?t.no:e.uint32(),a,i),n}function eI(e,n){let a=eN(e,n);return"bigint"==typeof a?a.toString():a}function eN(e,n){switch(n){case s.STRING:return e.string();case s.BOOL:return e.bool();case s.DOUBLE:return e.double();case s.FLOAT:return e.float();case s.INT32:return e.int32();case s.INT64:return e.int64();case s.UINT64:return e.uint64();case s.FIXED64:return e.fixed64();case s.BYTES:return e.bytes();case s.FIXED32:return e.fixed32();case s.SFIXED32:return e.sfixed32();case s.SFIXED64:return e.sfixed64();case s.SINT64:return e.sint64();case s.UINT32:return e.uint32();case s.SINT32:return e.sint32()}}function ev(e,n,a,t){w(void 0!==n);let r=e.repeated;switch(e.kind){case"scalar":case"enum":let i="enum"==e.kind?s.INT32:e.T;if(r)if(w(Array.isArray(n)),e.packed)!function(e,n,a,t){if(!t.length)return;e.tag(a,m.LengthDelimited).fork();let[,r]=eO(n);for(let n=0;n<t.length;n++)e[r](t[n]);e.join()}(a,i,e.no,n);else for(let t of n)ew(a,i,e.no,t);else ew(a,i,e.no,n);break;case"message":if(r)for(let r of(w(Array.isArray(n)),n))eA(a,t,e,r);else eA(a,t,e,n);break;case"map":for(let[r,i]of(w("object"==typeof n&&null!=n),Object.entries(n)))!function(e,n,a,t,r){e.tag(a.no,m.LengthDelimited),e.fork();let i=t;switch(a.K){case s.INT32:case s.FIXED32:case s.UINT32:case s.SFIXED32:case s.SINT32:i=Number.parseInt(t);break;case s.BOOL:w("true"==t||"false"==t),i="true"==t}switch(ew(e,a.K,1,i),a.V.kind){case"scalar":ew(e,a.V.T,2,r);break;case"enum":ew(e,s.INT32,2,r);break;case"message":w(void 0!==r),e.tag(2,m.LengthDelimited).bytes(r.toBinary(n))}e.join()}(a,t,e,r,i)}}function eA(e,n,a,t){let r=ei(a.T,t);a.delimited?e.tag(a.no,m.StartGroup).raw(r.toBinary(n)).tag(a.no,m.EndGroup):e.tag(a.no,m.LengthDelimited).bytes(r.toBinary(n))}function ew(e,n,a,t){w(void 0!==t);let[r,i]=eO(n);e.tag(a,r)[i](t)}function eO(e){let n=m.Varint;switch(e){case s.BYTES:case s.STRING:n=m.LengthDelimited;break;case s.DOUBLE:case s.FIXED64:case s.SFIXED64:n=m.Bit64;break;case s.FIXED32:case s.SFIXED32:case s.FLOAT:n=m.Bit32}return[n,s[e].toLowerCase()]}function eR(e){if(void 0===e)return e;if(er(e))return e.clone();if(e instanceof Uint8Array){let n=new Uint8Array(e.byteLength);return n.set(e),n}return e}function eP(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class eU{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){let e={};for(let n of this.list())e[n.jsonName]=e[n.name]=n;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){let e={};for(let n of this.list())e[n.no]=n;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){let e;this.members=[];let n=this.members;for(let a of this.list())a.oneof?a.oneof!==e&&(e=a.oneof,n.push(e)):n.push(a)}return this.members}}function eD(e,n){let a=eM(e);return n?a:ex(eH(a))}let eL=eM;function eM(e){let n=!1,a=[];for(let t=0;t<e.length;t++){let r=e.charAt(t);switch(r){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":a.push(r),n=!1;break;default:n&&(n=!1,r=r.toUpperCase()),a.push(r)}}return a.join("")}let eC=new Set(["constructor","toString","toJSON","valueOf"]),eF=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),eB=e=>`${e}$`,eH=e=>eF.has(e)?eB(e):e,ex=e=>eC.has(e)?eB(e):e;class eJ{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=eD(e,!1)}addField(e){w(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}let e$=(r=e=>new eU(e,e=>(function(e,n){var a,t,r,i,m,d;let l,c=[];for(let u of"function"==typeof e?e():e){if(u.localName=eD(u.name,void 0!==u.oneof),u.jsonName=null!=(a=u.jsonName)?a:eL(u.name),u.repeated=null!=(t=u.repeated)&&t,"scalar"==u.kind&&(u.L=null!=(r=u.L)?r:o.BIGINT),u.delimited=null!=(i=u.delimited)&&i,u.req=null!=(m=u.req)&&m,u.opt=null!=(d=u.opt)&&d,void 0===u.packed&&(n?u.packed="enum"==u.kind||"scalar"==u.kind&&u.T!=s.BYTES&&u.T!=s.STRING:u.packed=!1),void 0!==u.oneof){let e="string"==typeof u.oneof?u.oneof:u.oneof.name;l&&l.name==e||(l=new eJ(e)),u.oneof=l,l.addField(u)}c.push(u)}return c})(e,!0)),i=e=>{for(let n of e.getType().fields.byMember()){if(n.opt)continue;let a=n.localName;if(n.repeated){e[a]=[];continue}switch(n.kind){case"oneof":e[a]={case:void 0};break;case"enum":e[a]=0;break;case"map":e[a]={};break;case"scalar":e[a]=W(n.T,n.L)}}},{syntax:"proto3",json:{makeReadOptions:function(e){return e?Object.assign(Object.assign({},es),e):es},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},eo),e):eo},readMessage(e,n,a,t){if(null==n||Array.isArray(n)||"object"!=typeof n)throw Error(`cannot decode message ${e.typeName} from JSON: ${el(n)}`);t=null!=t?t:new e;let r=new Map,i=a.typeRegistry;for(let[s,o]of Object.entries(n)){let n=e.fields.findJsonName(s);if(n){if(n.oneof){if(null===o&&"scalar"==n.kind)continue;let a=r.get(n.oneof);if(void 0!==a)throw Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${n.oneof.name}" present: "${a}", "${s}"`);r.set(n.oneof,s)}ec(t,o,n,a,e)}else{let n=!1;if((null==i?void 0:i.findExtension)&&s.startsWith("[")&&s.endsWith("]")){let r=i.findExtension(s.substring(1,s.length-1));if(r&&r.extendee.typeName==e.typeName){n=!0;let[e,i]=X(r);ec(e,o,r.field,a,r),function(e,n,a,t){en(n,e);let r=n.runtime.bin.makeReadOptions(t),i=n.runtime.bin.makeWriteOptions(t);if(ee(e,n)){let a=e.getType().runtime.bin.listUnknownFields(e).filter(e=>e.no!=n.field.no);for(let n of(e.getType().runtime.bin.discardUnknownFields(e),a))e.getType().runtime.bin.onUnknownField(e,n.no,n.wireType,n.data)}let s=i.writerFactory(),o=n.field;o.opt||o.repeated||"enum"!=o.kind&&"scalar"!=o.kind||(o=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(o,a,s,i);let m=r.readerFactory(s.finish());for(;m.pos<m.len;){let[n,a]=m.tag(),t=m.skip(a,n);e.getType().runtime.bin.onUnknownField(e,n,a,t)}}(t,r,i(),a)}}if(!n&&!a.ignoreUnknownFields)throw Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return t},writeMessage(e,n){let a,t=e.getType(),r={};try{for(a of t.fields.byNumber()){if(!ea(a,e)){var i;if(a.req)throw"required field not set";if(!n.emitDefaultValues||!((i=a).repeated||"map"==i.kind||!i.oneof&&"message"!=i.kind&&!i.opt&&!i.req))continue}let t=a.oneof?e[a.oneof.localName].value:e[a.localName],s=ep(a,t,n);void 0!==s&&(r[n.useProtoFieldName?a.name:a.jsonName]=s)}let s=n.typeRegistry;if(null==s?void 0:s.findExtensionFor)for(let a of t.runtime.bin.listUnknownFields(e)){let i=s.findExtensionFor(t.typeName,a.no);if(i&&ee(e,i)){let a=function(e,n,a){en(n,e);let t=n.runtime.bin.makeReadOptions(a),r=function(e,n){if(!n.repeated&&("enum"==n.kind||"scalar"==n.kind)){for(let a=e.length-1;a>=0;--a)if(e[a].no==n.no)return[e[a]];return[]}return e.filter(e=>e.no===n.no)}(e.getType().runtime.bin.listUnknownFields(e),n.field),[i,s]=X(n);for(let e of r)n.runtime.bin.readField(i,t.readerFactory(e.data),n.field,e.wireType,t);return s()}(e,i,n),t=ep(i.field,a,n);void 0!==t&&(r[i.field.jsonName]=t)}}}catch(r){let e=a?`cannot encode field ${t.typeName}.${a.name} to JSON`:`cannot encode message ${t.typeName} to JSON`,n=r instanceof Error?r.message:String(r);throw Error(e+(n.length>0?`: ${n}`:""))}return r},readScalar:(e,n,a)=>eu(e,n,null!=a?a:o.BIGINT,!0),writeScalar(e,n,a){if(void 0!==n&&(a||Y(e,n)))return ef(e,n)},debug:el},bin:{makeReadOptions:function(e){return e?Object.assign(Object.assign({},ey),e):ey},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},eE),e):eE},listUnknownFields(e){var n;return null!=(n=e[eh])?n:[]},discardUnknownFields(e){delete e[eh]},writeUnknownFields(e,n){let a=e[eh];if(a)for(let e of a)n.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,n,a,t){Array.isArray(e[eh])||(e[eh]=[]),e[eh].push({no:n,wireType:a,data:t})},readMessage(e,n,a,t,r){let i,s,o=e.getType(),d=r?n.len:n.pos+a;for(;n.pos<d&&([i,s]=n.tag(),!0!==r||s!=m.EndGroup);){let a=o.fields.find(i);if(!a){let a=n.skip(s,i);t.readUnknownFields&&this.onUnknownField(e,i,s,a);continue}eS(e,n,a,s,t)}if(r&&(s!=m.EndGroup||i!==a))throw Error("invalid end group tag")},readField:eS,writeMessage(e,n,a){let t=e.getType();for(let r of t.fields.byNumber()){if(!ea(r,e)){if(r.req)throw Error(`cannot encode field ${t.typeName}.${r.name} to binary: required field not set`);continue}let i=r.oneof?e[r.oneof.localName].value:e[r.localName];ev(r,i,n,a)}return a.writeUnknownFields&&this.writeUnknownFields(e,n),n},writeField(e,n,a,t){void 0!==n&&ev(e,n,a,t)}},util:Object.assign(Object.assign({},{setEnumType:D,initPartial(e,n){if(void 0!==e)for(let a of n.getType().fields.byMember()){let t=a.localName;if(null!=e[t])switch(a.kind){case"oneof":let r=e[t].case;if(void 0===r)continue;let i=a.findField(r),o=e[t].value;i&&"message"==i.kind&&!er(o,i.T)?o=new i.T(o):i&&"scalar"===i.kind&&i.T===s.BYTES&&(o=eP(o)),n[t]={case:r,value:o};break;case"scalar":case"enum":let m=e[t];a.T===s.BYTES&&(m=a.repeated?m.map(eP):eP(m)),n[t]=m;break;case"map":switch(a.V.kind){case"scalar":case"enum":if(a.V.T===s.BYTES)for(let[a,r]of Object.entries(e[t]))n[t][a]=eP(r);else Object.assign(n[t],e[t]);break;case"message":let d=a.V.T;for(let a of Object.keys(e[t])){let r=e[t][a];d.fieldWrapper||(r=new d(r)),n[t][a]=r}}break;case"message":let l=a.T;if(a.repeated)n[t]=e[t].map(e=>er(e,l)?e:new l(e));else{let a=e[t];l.fieldWrapper?"google.protobuf.BytesValue"===l.typeName?n[t]=eP(a):n[t]=a:n[t]=er(a,l)?a:new l(a)}}}},equals:(e,n,a)=>n===a||!!n&&!!a&&e.fields.byMember().every(e=>{let t=n[e.localName],r=a[e.localName];if(e.repeated){if(t.length!==r.length)return!1;switch(e.kind){case"message":return t.every((n,a)=>e.T.equals(n,r[a]));case"scalar":return t.every((n,a)=>q(e.T,n,r[a]));case"enum":return t.every((e,n)=>q(s.INT32,e,r[n]))}throw Error(`repeated cannot contain ${e.kind}`)}switch(e.kind){case"message":let i=t,o=r;return e.T.fieldWrapper&&(void 0===i||er(i)||(i=e.T.fieldWrapper.wrapField(i)),void 0===o||er(o)||(o=e.T.fieldWrapper.wrapField(o))),e.T.equals(i,o);case"enum":return q(s.INT32,t,r);case"scalar":return q(e.T,t,r);case"oneof":if(t.case!==r.case)return!1;let m=e.findField(t.case);if(void 0===m)return!0;switch(m.kind){case"message":return m.T.equals(t.value,r.value);case"enum":return q(s.INT32,t.value,r.value);case"scalar":return q(m.T,t.value,r.value)}throw Error(`oneof cannot contain ${m.kind}`);case"map":let d=Object.keys(t).concat(Object.keys(r));switch(e.V.kind){case"message":let l=e.V.T;return d.every(e=>l.equals(t[e],r[e]));case"enum":return d.every(e=>q(s.INT32,t[e],r[e]));case"scalar":let c=e.V.T;return d.every(e=>q(c,t[e],r[e]))}}}),clone(e){let n=e.getType(),a=new n;for(let t of n.fields.byMember()){let n,r=e[t.localName];if(t.repeated)n=r.map(eR);else if("map"==t.kind)for(let[e,i]of(n=a[t.localName],Object.entries(r)))n[e]=eR(i);else n="oneof"==t.kind?t.findField(r.case)?{case:r.case,value:eR(r.value)}:{case:void 0}:eR(r);a[t.localName]=n}for(let t of n.runtime.bin.listUnknownFields(e))n.runtime.bin.onUnknownField(a,t.no,t.wireType,t.data);return a}}),{newFieldList:r,initFields:i}),makeMessageType(e,n,a){var t,r;let i,s;return t=this,Object.setPrototypeOf((s=({[i=null!=(r=null==a?void 0:a.localName)?r:e.substring(e.lastIndexOf(".")+1)]:function(e){t.util.initFields(this),t.util.initPartial(e,this)}})[i]).prototype,new C),Object.assign(s,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary:(e,n)=>new s().fromBinary(e,n),fromJson:(e,n)=>new s().fromJson(e,n),fromJsonString:(e,n)=>new s().fromJsonString(e,n),equals:(e,n)=>t.util.equals(s,e,n)}),s},makeEnum:function(e,n,a){let t={};for(let e of n){let n=M(e);t[n.localName]=n.no,t[n.no]=n.localName}return D(t,e,n,a),t},makeEnumType:L,getEnumType:function(e){let n=e[U];return w(n,"missing enum type on enum object"),n},makeExtension(e,n,a){var t;let r;return t=this,{typeName:e,extendee:n,get field(){if(!r){let n="function"==typeof a?a():a;n.name=e.split(".").pop(),n.jsonName=`[${e}]`,r=t.util.newFieldList([n]).list()[0]}return r},runtime:t}}});class ej extends C{constructor(e){super(),this.seconds=G.zero,this.nanos=0,e$.util.initPartial(e,this)}fromJson(e,n){if("string"!=typeof e)throw Error(`cannot decode google.protobuf.Timestamp from JSON: ${e$.json.debug(e)}`);let a=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!a)throw Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");let t=Date.parse(a[1]+"-"+a[2]+"-"+a[3]+"T"+a[4]+":"+a[5]+":"+a[6]+(a[8]?a[8]:"Z"));if(Number.isNaN(t))throw Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=G.parse(t/1e3),this.nanos=0,a[7]&&(this.nanos=parseInt("1"+a[7]+"0".repeat(9-a[7].length))-1e9),this}toJson(e){let n=1e3*Number(this.seconds);if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let a="Z";if(this.nanos>0){let e=(this.nanos+1e9).toString().substring(1);a="000000"===e.substring(3)?"."+e.substring(0,3)+"Z":"000"===e.substring(6)?"."+e.substring(0,6)+"Z":"."+e+"Z"}return new Date(n).toISOString().replace(".000Z",a)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return ej.fromDate(new Date)}static fromDate(e){let n=e.getTime();return new ej({seconds:G.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new ej().fromBinary(e,n)}static fromJson(e,n){return new ej().fromJson(e,n)}static fromJsonString(e,n){return new ej().fromJsonString(e,n)}static equals(e,n){return e$.util.equals(ej,e,n)}}ej.runtime=e$,ej.typeName="google.protobuf.Timestamp",ej.fields=e$.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class eK extends C{constructor(e){super(),this.seconds=G.zero,this.nanos=0,e$.util.initPartial(e,this)}fromJson(e,n){if("string"!=typeof e)throw Error(`cannot decode google.protobuf.Duration from JSON: ${e$.json.debug(e)}`);let a=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(null===a)throw Error(`cannot decode google.protobuf.Duration from JSON: ${e$.json.debug(e)}`);let t=Number(a[1]);if(t>315576e6||t<-315576e6)throw Error(`cannot decode google.protobuf.Duration from JSON: ${e$.json.debug(e)}`);if(this.seconds=G.parse(t),"string"==typeof a[2]){let e=a[2]+"0".repeat(9-a[2].length);this.nanos=parseInt(e),(t<0||Object.is(t,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||-315576e6>Number(this.seconds))throw Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(0!==this.nanos){let e=Math.abs(this.nanos).toString();"000000"===(e="0".repeat(9-e.length)+e).substring(3)?e=e.substring(0,3):"000"===e.substring(6)&&(e=e.substring(0,6)),n+="."+e,this.nanos<0&&0==Number(this.seconds)&&(n="-"+n)}return n+"s"}static fromBinary(e,n){return new eK().fromBinary(e,n)}static fromJson(e,n){return new eK().fromJson(e,n)}static fromJsonString(e,n){return new eK().fromJsonString(e,n)}static equals(e,n){return e$.util.equals(eK,e,n)}}eK.runtime=e$,eK.typeName="google.protobuf.Duration",eK.fields=e$.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class eV extends C{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),e$.util.initPartial(e,this)}toJson(e){var n;if(""===this.typeUrl)return{};let a=this.typeUrlToName(this.typeUrl),t=null==(n=null==e?void 0:e.typeRegistry)?void 0:n.findMessage(a);if(!t)throw Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let r=t.fromBinary(this.value).toJson(e);return(a.startsWith("google.protobuf.")||null===r||Array.isArray(r)||"object"!=typeof r)&&(r={value:r}),r["@type"]=this.typeUrl,r}fromJson(e,n){var a;let t;if(null===e||Array.isArray(e)||"object"!=typeof e)throw Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${null===e?"null":Array.isArray(e)?"array":typeof e}`);if(0==Object.keys(e).length)return this;let r=e["@type"];if("string"!=typeof r||""==r)throw Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');let i=this.typeUrlToName(r),s=null==(a=null==n?void 0:n.typeRegistry)?void 0:a.findMessage(i);if(!s)throw Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);if(i.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))t=s.fromJson(e.value,n);else{let a=Object.assign({},e);delete a["@type"],t=s.fromJson(a,n)}return this.packFrom(t),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return!!this.is(e.getType())&&(e.fromBinary(this.value),!0)}unpack(e){if(""===this.typeUrl)return;let n=e.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(e){if(""===this.typeUrl)return!1;let n=this.typeUrlToName(this.typeUrl);return n===("string"==typeof e?e:e.typeName)}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw Error(`invalid type url: ${e}`);let n=e.lastIndexOf("/"),a=n>=0?e.substring(n+1):e;if(!a.length)throw Error(`invalid type url: ${e}`);return a}static pack(e){let n=new eV;return n.packFrom(e),n}static fromBinary(e,n){return new eV().fromBinary(e,n)}static fromJson(e,n){return new eV().fromJson(e,n)}static fromJsonString(e,n){return new eV().fromJsonString(e,n)}static equals(e,n){return e$.util.equals(eV,e,n)}}eV.runtime=e$,eV.typeName="google.protobuf.Any",eV.fields=e$.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);let eG=e$.makeEnum("livekit.agent.ChatRole",[{no:0,name:"DEVELOPER"},{no:1,name:"SYSTEM"},{no:2,name:"USER"},{no:3,name:"ASSISTANT"}]),eq=e$.makeMessageType("livekit.agent.MetricsReport",()=>[{no:1,name:"started_speaking_at",kind:"message",T:ej},{no:2,name:"stopped_speaking_at",kind:"message",T:ej},{no:3,name:"transcription_delay",kind:"scalar",T:1,opt:!0},{no:4,name:"end_of_turn_delay",kind:"scalar",T:1,opt:!0},{no:5,name:"on_user_turn_completed_delay",kind:"scalar",T:1,opt:!0},{no:6,name:"llm_node_ttft",kind:"scalar",T:1,opt:!0},{no:7,name:"tts_node_ttfb",kind:"scalar",T:1,opt:!0},{no:8,name:"e2e_latency",kind:"scalar",T:1,opt:!0}]),eW=e$.makeMessageType("livekit.agent.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"role",kind:"enum",T:e$.getEnumType(eG)},{no:3,name:"content",kind:"message",T:eY,repeated:!0},{no:4,name:"interrupted",kind:"scalar",T:8},{no:5,name:"transcript_confidence",kind:"scalar",T:1,opt:!0},{no:6,name:"extra",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:7,name:"metrics",kind:"message",T:eq},{no:8,name:"created_at",kind:"message",T:ej}]),eY=e$.makeMessageType("livekit.agent.ChatMessage.ChatContent",()=>[{no:1,name:"text",kind:"scalar",T:9,oneof:"payload"}],{localName:"ChatMessage_ChatContent"}),eX=e$.makeMessageType("livekit.agent.FunctionCall",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"call_id",kind:"scalar",T:9},{no:3,name:"arguments",kind:"scalar",T:9},{no:4,name:"name",kind:"scalar",T:9},{no:5,name:"created_at",kind:"message",T:ej}]),ez=e$.makeMessageType("livekit.agent.FunctionCallOutput",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"call_id",kind:"scalar",T:9},{no:4,name:"output",kind:"scalar",T:9},{no:5,name:"is_error",kind:"scalar",T:8},{no:6,name:"created_at",kind:"message",T:ej}]),eQ=e$.makeMessageType("livekit.agent.AgentHandoff",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"old_agent_id",kind:"scalar",T:9,opt:!0},{no:3,name:"new_agent_id",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:ej}]),eZ=(()=>[{no:1,name:"message",kind:"message",T:eW,oneof:"item"},{no:2,name:"function_call",kind:"message",T:eX,oneof:"item"},{no:3,name:"function_call_output",kind:"message",T:ez,oneof:"item"},{no:4,name:"agent_handoff",kind:"message",T:eQ,oneof:"item"}],e$.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:e0,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}])),e0=e$.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:ej},{no:3,name:"value",kind:"scalar",T:2}]),e1=e$.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:ej},{no:7,name:"normalized_end_timestamp",kind:"message",T:ej,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),e2=e$.makeEnum("livekit.AudioCodec",[{no:0,name:"DEFAULT_AC"},{no:1,name:"OPUS"},{no:2,name:"AAC"},{no:3,name:"AC_MP3"}]),e3=e$.makeEnum("livekit.VideoCodec",[{no:0,name:"DEFAULT_VC"},{no:1,name:"H264_BASELINE"},{no:2,name:"H264_MAIN"},{no:3,name:"H264_HIGH"},{no:4,name:"VP8"}]),e9=e$.makeEnum("livekit.ImageCodec",[{no:0,name:"IC_DEFAULT"},{no:1,name:"IC_JPEG"}]),e4=e$.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),e6=e$.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),e8=e$.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),e5=e$.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),e7=e$.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),ne=e$.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),nn=e$.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),na=e$.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),nt=e$.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),nr=(()=>[{no:1,name:"after_id",kind:"scalar",T:9},{no:2,name:"limit",kind:"scalar",T:5}],e$.makeMessageType("livekit.ListUpdate",()=>[{no:1,name:"set",kind:"scalar",T:9,repeated:!0},{no:2,name:"add",kind:"scalar",T:9,repeated:!0},{no:3,name:"remove",kind:"scalar",T:9,repeated:!0},{no:4,name:"clear",kind:"scalar",T:8}])),ni=e$.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:ns,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:nO}]),ns=e$.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),no=e$.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:e$.getEnumType(e8),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),nm=e$.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:e$.getEnumType(nd)},{no:4,name:"tracks",kind:"message",T:np,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:no},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:e$.getEnumType(nl)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:e$.getEnumType(nn)},{no:18,name:"kind_details",kind:"enum",T:e$.getEnumType(nc),repeated:!0},{no:19,name:"data_tracks",kind:"message",T:nk,repeated:!0}]),nd=e$.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),nl=e$.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"}]),nc=e$.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"},{no:2,name:"CONNECTOR_WHATSAPP"},{no:3,name:"CONNECTOR_TWILIO"}]),nu=e$.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),nT=e$.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:n_,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:e$.getEnumType(ng)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),np=e$.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:e$.getEnumType(e6)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:e$.getEnumType(e8)},{no:10,name:"layers",kind:"message",T:n_,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:nT,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:e$.getEnumType(nu)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:nO},{no:19,name:"audio_features",kind:"enum",T:e$.getEnumType(nt),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:e$.getEnumType(e4)}]),nk=e$.makeMessageType("livekit.DataTrackInfo",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13},{no:2,name:"sid",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"encryption",kind:"enum",T:e$.getEnumType(nu)}]),nf=e$.makeMessageType("livekit.DataTrackSubscriptionOptions",()=>[{no:1,name:"target_fps",kind:"scalar",T:13,opt:!0}]),n_=e$.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:e$.getEnumType(e5)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),ng=e$.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),nh=(()=>[{no:1,name:"encryption_type",kind:"enum",T:e$.getEnumType(nu)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}],e$.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}])),ny=(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}],e$.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}])),nE=(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}],e$.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}])),nS=e$.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),nb=e$.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:e$.getEnumType(nI)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),nI=e$.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),nN=(()=>[{no:1,name:"sdk",kind:"enum",T:e$.getEnumType(nN)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}],e$.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}])),nv=e$.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:nA},{no:2,name:"screen",kind:"message",T:nA},{no:3,name:"resume_connection",kind:"enum",T:e$.getEnumType(ne)},{no:4,name:"disabled_codecs",kind:"message",T:nw},{no:5,name:"force_relay",kind:"enum",T:e$.getEnumType(ne)}]),nA=e$.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:e$.getEnumType(ne)}]),nw=e$.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:ns,repeated:!0},{no:2,name:"publish",kind:"message",T:ns,repeated:!0}]),nO=(()=>[{no:1,name:"start_time",kind:"message",T:ej},{no:2,name:"end_time",kind:"message",T:ej},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"start_timestamp",kind:"scalar",T:4},{no:5,name:"end_timestamp",kind:"scalar",T:4},{no:6,name:"rtp_clock_ticks",kind:"scalar",T:4},{no:7,name:"drift_samples",kind:"scalar",T:3},{no:8,name:"drift_ms",kind:"scalar",T:1},{no:9,name:"clock_rate",kind:"scalar",T:1}],e$.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}])),nR=e$.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),nP=e$.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:e$.getEnumType(nR)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),nU=e$.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),nD=(()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:e$.getEnumType(nu)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:nP,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:nU,oneof:"content_header"}],e$.makeMessageType("livekit.FilterParams",()=>[{no:1,name:"include_events",kind:"scalar",T:9,repeated:!0},{no:2,name:"exclude_events",kind:"scalar",T:9,repeated:!0}])),nL=e$.makeMessageType("livekit.WebhookConfig",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"signing_key",kind:"scalar",T:9},{no:3,name:"filter_params",kind:"message",T:nD}]),nM=e$.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),nC=e$.makeEnum("livekit.JobType",[{no:0,name:"JT_ROOM"},{no:1,name:"JT_PUBLISHER"},{no:2,name:"JT_PARTICIPANT"}]),nF=e$.makeEnum("livekit.WorkerStatus",[{no:0,name:"WS_AVAILABLE"},{no:1,name:"WS_FULL"}]),nB=e$.makeEnum("livekit.JobStatus",[{no:0,name:"JS_PENDING"},{no:1,name:"JS_RUNNING"},{no:2,name:"JS_SUCCESS"},{no:3,name:"JS_FAILED"}]),nH=e$.makeMessageType("livekit.Job",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:9,name:"dispatch_id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:e$.getEnumType(nC)},{no:3,name:"room",kind:"message",T:ni},{no:4,name:"participant",kind:"message",T:nm,opt:!0},{no:5,name:"namespace",kind:"scalar",T:9},{no:6,name:"metadata",kind:"scalar",T:9},{no:7,name:"agent_name",kind:"scalar",T:9},{no:8,name:"state",kind:"message",T:nx},{no:10,name:"enable_recording",kind:"scalar",T:8}]),nx=e$.makeMessageType("livekit.JobState",()=>[{no:1,name:"status",kind:"enum",T:e$.getEnumType(nB)},{no:2,name:"error",kind:"scalar",T:9},{no:3,name:"started_at",kind:"scalar",T:3},{no:4,name:"ended_at",kind:"scalar",T:3},{no:5,name:"updated_at",kind:"scalar",T:3},{no:6,name:"participant_identity",kind:"scalar",T:9},{no:7,name:"worker_id",kind:"scalar",T:9},{no:8,name:"agent_id",kind:"scalar",T:9}]),nJ=(()=>[{no:1,name:"type",kind:"enum",T:e$.getEnumType(nC)},{no:2,name:"room",kind:"message",T:ni},{no:3,name:"participant",kind:"message",T:nm}],e$.makeMessageType("livekit.RoomAgentDispatch",()=>[{no:1,name:"agent_name",kind:"scalar",T:9},{no:2,name:"metadata",kind:"scalar",T:9}])),n$=(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"agent_name",kind:"scalar",T:9},{no:3,name:"room",kind:"scalar",T:9},{no:4,name:"metadata",kind:"scalar",T:9},{no:5,name:"state",kind:"message",T:n$}],e$.makeMessageType("livekit.AgentDispatchState",()=>[{no:1,name:"jobs",kind:"message",T:nH,repeated:!0},{no:2,name:"created_at",kind:"scalar",T:3},{no:3,name:"deleted_at",kind:"scalar",T:3}])),nj=e$.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),nK=e$.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),nV=e$.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),nG=e$.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:n_,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:e$.getEnumType(ng)}]),nq=e$.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:e$.getEnumType(e6)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:e$.getEnumType(e8)},{no:9,name:"layers",kind:"message",T:n_,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:nG,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:e$.getEnumType(nu)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:e$.getEnumType(e4)},{no:17,name:"audio_features",kind:"enum",T:e$.getEnumType(nt),repeated:!0}]),nW=e$.makeMessageType("livekit.PublishDataTrackRequest",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"encryption",kind:"enum",T:e$.getEnumType(nu)}]),nY=e$.makeMessageType("livekit.PublishDataTrackResponse",()=>[{no:1,name:"info",kind:"message",T:nk}]),nX=e$.makeMessageType("livekit.UnpublishDataTrackRequest",()=>[{no:1,name:"pub_handle",kind:"scalar",T:13}]),nz=(()=>[{no:1,name:"info",kind:"message",T:nk}],e$.makeMessageType("livekit.DataTrackSubscriberHandles.PublishedDataTrack",()=>[{no:1,name:"publisher_identity",kind:"scalar",T:9},{no:2,name:"publisher_sid",kind:"scalar",T:9},{no:3,name:"track_sid",kind:"scalar",T:9}],{localName:"DataTrackSubscriberHandles_PublishedDataTrack"})),nQ=e$.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:e$.getEnumType(nj)},{no:3,name:"final",kind:"scalar",T:8}]),nZ=e$.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),n0=(()=>[{no:1,name:"room",kind:"message",T:ni},{no:2,name:"participant",kind:"message",T:nm},{no:3,name:"other_participants",kind:"message",T:nm,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:n5,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:nv},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:nb},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:ns,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}],e$.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:np}])),n1=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}],e$.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}])),n2=(()=>[{no:1,name:"participants",kind:"message",T:nm,repeated:!0}],e$.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:nS,repeated:!0}])),n3=(()=>[{no:1,name:"updates",kind:"message",T:n3,repeated:!0}],e$.makeMessageType("livekit.UpdateDataSubscription.Update",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"options",kind:"message",T:nf}],{localName:"UpdateDataSubscription_Update"})),n9=(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:e$.getEnumType(e5)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}],e$.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:e$.getEnumType(nt),repeated:!0}])),n4=e$.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),n6=(()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:e$.getEnumType(nn)},{no:3,name:"action",kind:"enum",T:e$.getEnumType(n6)},{no:4,name:"regions",kind:"message",T:as}],e$.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}])),n8=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:n_,repeated:!0}],e$.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}])),n5=e$.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),n7=(()=>[{no:1,name:"speakers",kind:"message",T:nh,repeated:!0}],e$.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:e$.getEnumType(e7)},{no:3,name:"score",kind:"scalar",T:2}])),ae=(()=>[{no:1,name:"updates",kind:"message",T:n7,repeated:!0}],e$.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:e$.getEnumType(nK)}])),an=(()=>[{no:1,name:"stream_states",kind:"message",T:ae,repeated:!0}],e$.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:e$.getEnumType(e5)},{no:2,name:"enabled",kind:"scalar",T:8}])),aa=e$.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:an,repeated:!0}]),at=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:an,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:aa,repeated:!0}],e$.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}])),ar=(()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:at,repeated:!0}],e$.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}])),ai=e$.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:e$.getEnumType(nj)}]),as=(()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:e$.getEnumType(nV),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}],e$.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:ao,repeated:!0}])),ao=e$.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),am=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:e$.getEnumType(na)}],e$.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"},{no:7,name:"INVALID_HANDLE"},{no:8,name:"INVALID_NAME"},{no:9,name:"DUPLICATE_HANDLE"},{no:10,name:"DUPLICATE_NAME"}])),ad=(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}],e$.makeEnum("livekit.EncodedFileType",[{no:0,name:"DEFAULT_FILETYPE"},{no:1,name:"MP4"},{no:2,name:"OGG"},{no:3,name:"MP3"}])),al=e$.makeEnum("livekit.SegmentedFileProtocol",[{no:0,name:"DEFAULT_SEGMENTED_FILE_PROTOCOL"},{no:1,name:"HLS_PROTOCOL"}]),ac=e$.makeEnum("livekit.SegmentedFileSuffix",[{no:0,name:"INDEX"},{no:1,name:"TIMESTAMP"}]),au=e$.makeEnum("livekit.ImageFileSuffix",[{no:0,name:"IMAGE_SUFFIX_INDEX"},{no:1,name:"IMAGE_SUFFIX_TIMESTAMP"},{no:2,name:"IMAGE_SUFFIX_NONE_OVERWRITE"}]),aT=e$.makeEnum("livekit.StreamProtocol",[{no:0,name:"DEFAULT_PROTOCOL"},{no:1,name:"RTMP"},{no:2,name:"SRT"}]),ap=e$.makeEnum("livekit.AudioMixing",[{no:0,name:"DEFAULT_MIXING"},{no:1,name:"DUAL_CHANNEL_AGENT"},{no:2,name:"DUAL_CHANNEL_ALTERNATE"}]),ak=e$.makeEnum("livekit.EncodingOptionsPreset",[{no:0,name:"H264_720P_30"},{no:1,name:"H264_720P_60"},{no:2,name:"H264_1080P_30"},{no:3,name:"H264_1080P_60"},{no:4,name:"PORTRAIT_H264_720P_30"},{no:5,name:"PORTRAIT_H264_720P_60"},{no:6,name:"PORTRAIT_H264_1080P_30"},{no:7,name:"PORTRAIT_H264_1080P_60"}]),af=e$.makeEnum("livekit.EgressStatus",[{no:0,name:"EGRESS_STARTING"},{no:1,name:"EGRESS_ACTIVE"},{no:2,name:"EGRESS_ENDING"},{no:3,name:"EGRESS_COMPLETE"},{no:4,name:"EGRESS_FAILED"},{no:5,name:"EGRESS_ABORTED"},{no:6,name:"EGRESS_LIMIT_REACHED"}]),a_=e$.makeEnum("livekit.EgressSourceType",[{no:0,name:"EGRESS_SOURCE_TYPE_WEB",localName:"WEB"},{no:1,name:"EGRESS_SOURCE_TYPE_SDK",localName:"SDK"}]),ag=e$.makeMessageType("livekit.RoomCompositeEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"layout",kind:"scalar",T:9},{no:3,name:"audio_only",kind:"scalar",T:8},{no:15,name:"audio_mixing",kind:"enum",T:e$.getEnumType(ap)},{no:4,name:"video_only",kind:"scalar",T:8},{no:5,name:"custom_base_url",kind:"scalar",T:9},{no:6,name:"file",kind:"message",T:ab,oneof:"output"},{no:7,name:"stream",kind:"message",T:aU,oneof:"output"},{no:10,name:"segments",kind:"message",T:aI,oneof:"output"},{no:8,name:"preset",kind:"enum",T:e$.getEnumType(ak),oneof:"options"},{no:9,name:"advanced",kind:"message",T:aD,oneof:"options"},{no:11,name:"file_outputs",kind:"message",T:ab,repeated:!0},{no:12,name:"stream_outputs",kind:"message",T:aU,repeated:!0},{no:13,name:"segment_outputs",kind:"message",T:aI,repeated:!0},{no:14,name:"image_outputs",kind:"message",T:av,repeated:!0},{no:16,name:"webhooks",kind:"message",T:nL,repeated:!0}]),ah=e$.makeMessageType("livekit.WebEgressRequest",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"audio_only",kind:"scalar",T:8},{no:3,name:"video_only",kind:"scalar",T:8},{no:12,name:"await_start_signal",kind:"scalar",T:8},{no:4,name:"file",kind:"message",T:ab,oneof:"output"},{no:5,name:"stream",kind:"message",T:aU,oneof:"output"},{no:6,name:"segments",kind:"message",T:aI,oneof:"output"},{no:7,name:"preset",kind:"enum",T:e$.getEnumType(ak),oneof:"options"},{no:8,name:"advanced",kind:"message",T:aD,oneof:"options"},{no:9,name:"file_outputs",kind:"message",T:ab,repeated:!0},{no:10,name:"stream_outputs",kind:"message",T:aU,repeated:!0},{no:11,name:"segment_outputs",kind:"message",T:aI,repeated:!0},{no:13,name:"image_outputs",kind:"message",T:av,repeated:!0},{no:14,name:"webhooks",kind:"message",T:nL,repeated:!0}]),ay=e$.makeMessageType("livekit.ParticipantEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"screen_share",kind:"scalar",T:8},{no:4,name:"preset",kind:"enum",T:e$.getEnumType(ak),oneof:"options"},{no:5,name:"advanced",kind:"message",T:aD,oneof:"options"},{no:6,name:"file_outputs",kind:"message",T:ab,repeated:!0},{no:7,name:"stream_outputs",kind:"message",T:aU,repeated:!0},{no:8,name:"segment_outputs",kind:"message",T:aI,repeated:!0},{no:9,name:"image_outputs",kind:"message",T:av,repeated:!0},{no:10,name:"webhooks",kind:"message",T:nL,repeated:!0}]),aE=e$.makeMessageType("livekit.TrackCompositeEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"audio_track_id",kind:"scalar",T:9},{no:3,name:"video_track_id",kind:"scalar",T:9},{no:4,name:"file",kind:"message",T:ab,oneof:"output"},{no:5,name:"stream",kind:"message",T:aU,oneof:"output"},{no:8,name:"segments",kind:"message",T:aI,oneof:"output"},{no:6,name:"preset",kind:"enum",T:e$.getEnumType(ak),oneof:"options"},{no:7,name:"advanced",kind:"message",T:aD,oneof:"options"},{no:11,name:"file_outputs",kind:"message",T:ab,repeated:!0},{no:12,name:"stream_outputs",kind:"message",T:aU,repeated:!0},{no:13,name:"segment_outputs",kind:"message",T:aI,repeated:!0},{no:14,name:"image_outputs",kind:"message",T:av,repeated:!0},{no:15,name:"webhooks",kind:"message",T:nL,repeated:!0}]),aS=e$.makeMessageType("livekit.TrackEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"track_id",kind:"scalar",T:9},{no:3,name:"file",kind:"message",T:aN,oneof:"output"},{no:4,name:"websocket_url",kind:"scalar",T:9,oneof:"output"},{no:5,name:"webhooks",kind:"message",T:nL,repeated:!0}]),ab=e$.makeMessageType("livekit.EncodedFileOutput",()=>[{no:1,name:"file_type",kind:"enum",T:e$.getEnumType(ad)},{no:2,name:"filepath",kind:"scalar",T:9},{no:6,name:"disable_manifest",kind:"scalar",T:8},{no:3,name:"s3",kind:"message",T:aA,oneof:"output"},{no:4,name:"gcp",kind:"message",T:aw,oneof:"output"},{no:5,name:"azure",kind:"message",T:aO,oneof:"output"},{no:7,name:"aliOSS",kind:"message",T:aR,oneof:"output"}]),aI=e$.makeMessageType("livekit.SegmentedFileOutput",()=>[{no:1,name:"protocol",kind:"enum",T:e$.getEnumType(al)},{no:2,name:"filename_prefix",kind:"scalar",T:9},{no:3,name:"playlist_name",kind:"scalar",T:9},{no:11,name:"live_playlist_name",kind:"scalar",T:9},{no:4,name:"segment_duration",kind:"scalar",T:13},{no:10,name:"filename_suffix",kind:"enum",T:e$.getEnumType(ac)},{no:8,name:"disable_manifest",kind:"scalar",T:8},{no:5,name:"s3",kind:"message",T:aA,oneof:"output"},{no:6,name:"gcp",kind:"message",T:aw,oneof:"output"},{no:7,name:"azure",kind:"message",T:aO,oneof:"output"},{no:9,name:"aliOSS",kind:"message",T:aR,oneof:"output"}]),aN=e$.makeMessageType("livekit.DirectFileOutput",()=>[{no:1,name:"filepath",kind:"scalar",T:9},{no:5,name:"disable_manifest",kind:"scalar",T:8},{no:2,name:"s3",kind:"message",T:aA,oneof:"output"},{no:3,name:"gcp",kind:"message",T:aw,oneof:"output"},{no:4,name:"azure",kind:"message",T:aO,oneof:"output"},{no:6,name:"aliOSS",kind:"message",T:aR,oneof:"output"}]),av=e$.makeMessageType("livekit.ImageOutput",()=>[{no:1,name:"capture_interval",kind:"scalar",T:13},{no:2,name:"width",kind:"scalar",T:5},{no:3,name:"height",kind:"scalar",T:5},{no:4,name:"filename_prefix",kind:"scalar",T:9},{no:5,name:"filename_suffix",kind:"enum",T:e$.getEnumType(au)},{no:6,name:"image_codec",kind:"enum",T:e$.getEnumType(e9)},{no:7,name:"disable_manifest",kind:"scalar",T:8},{no:8,name:"s3",kind:"message",T:aA,oneof:"output"},{no:9,name:"gcp",kind:"message",T:aw,oneof:"output"},{no:10,name:"azure",kind:"message",T:aO,oneof:"output"},{no:11,name:"aliOSS",kind:"message",T:aR,oneof:"output"}]),aA=e$.makeMessageType("livekit.S3Upload",()=>[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"secret",kind:"scalar",T:9},{no:11,name:"session_token",kind:"scalar",T:9},{no:12,name:"assume_role_arn",kind:"scalar",T:9},{no:13,name:"assume_role_external_id",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9},{no:4,name:"endpoint",kind:"scalar",T:9},{no:5,name:"bucket",kind:"scalar",T:9},{no:6,name:"force_path_style",kind:"scalar",T:8},{no:7,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:8,name:"tagging",kind:"scalar",T:9},{no:9,name:"content_disposition",kind:"scalar",T:9},{no:10,name:"proxy",kind:"message",T:aP}]),aw=e$.makeMessageType("livekit.GCPUpload",()=>[{no:1,name:"credentials",kind:"scalar",T:9},{no:2,name:"bucket",kind:"scalar",T:9},{no:3,name:"proxy",kind:"message",T:aP}]),aO=e$.makeMessageType("livekit.AzureBlobUpload",()=>[{no:1,name:"account_name",kind:"scalar",T:9},{no:2,name:"account_key",kind:"scalar",T:9},{no:3,name:"container_name",kind:"scalar",T:9}]),aR=e$.makeMessageType("livekit.AliOSSUpload",()=>[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"secret",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9},{no:4,name:"endpoint",kind:"scalar",T:9},{no:5,name:"bucket",kind:"scalar",T:9}]),aP=e$.makeMessageType("livekit.ProxyConfig",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"password",kind:"scalar",T:9}]),aU=e$.makeMessageType("livekit.StreamOutput",()=>[{no:1,name:"protocol",kind:"enum",T:e$.getEnumType(aT)},{no:2,name:"urls",kind:"scalar",T:9,repeated:!0}]),aD=e$.makeMessageType("livekit.EncodingOptions",()=>[{no:1,name:"width",kind:"scalar",T:5},{no:2,name:"height",kind:"scalar",T:5},{no:3,name:"depth",kind:"scalar",T:5},{no:4,name:"framerate",kind:"scalar",T:5},{no:5,name:"audio_codec",kind:"enum",T:e$.getEnumType(e2)},{no:6,name:"audio_bitrate",kind:"scalar",T:5},{no:11,name:"audio_quality",kind:"scalar",T:5},{no:7,name:"audio_frequency",kind:"scalar",T:5},{no:8,name:"video_codec",kind:"enum",T:e$.getEnumType(e3)},{no:9,name:"video_bitrate",kind:"scalar",T:5},{no:12,name:"video_quality",kind:"scalar",T:5},{no:10,name:"key_frame_interval",kind:"scalar",T:1}]),aL=(()=>[{no:1,name:"egress_id",kind:"scalar",T:9},{no:2,name:"room_id",kind:"scalar",T:9},{no:13,name:"room_name",kind:"scalar",T:9},{no:26,name:"source_type",kind:"enum",T:e$.getEnumType(a_)},{no:3,name:"status",kind:"enum",T:e$.getEnumType(af)},{no:10,name:"started_at",kind:"scalar",T:3},{no:11,name:"ended_at",kind:"scalar",T:3},{no:18,name:"updated_at",kind:"scalar",T:3},{no:21,name:"details",kind:"scalar",T:9},{no:9,name:"error",kind:"scalar",T:9},{no:22,name:"error_code",kind:"scalar",T:5},{no:4,name:"room_composite",kind:"message",T:ag,oneof:"request"},{no:14,name:"web",kind:"message",T:ah,oneof:"request"},{no:19,name:"participant",kind:"message",T:ay,oneof:"request"},{no:5,name:"track_composite",kind:"message",T:aE,oneof:"request"},{no:6,name:"track",kind:"message",T:aS,oneof:"request"},{no:7,name:"stream",kind:"message",T:aL,oneof:"result"},{no:8,name:"file",kind:"message",T:aF,oneof:"result"},{no:12,name:"segments",kind:"message",T:aB,oneof:"result"},{no:15,name:"stream_results",kind:"message",T:aM,repeated:!0},{no:16,name:"file_results",kind:"message",T:aF,repeated:!0},{no:17,name:"segment_results",kind:"message",T:aB,repeated:!0},{no:20,name:"image_results",kind:"message",T:aH,repeated:!0},{no:23,name:"manifest_location",kind:"scalar",T:9},{no:25,name:"backup_storage_used",kind:"scalar",T:8}],e$.makeMessageType("livekit.StreamInfoList",()=>[{no:1,name:"info",kind:"message",T:aM,repeated:!0}])),aM=e$.makeMessageType("livekit.StreamInfo",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3},{no:4,name:"duration",kind:"scalar",T:3},{no:5,name:"status",kind:"enum",T:e$.getEnumType(aC)},{no:6,name:"error",kind:"scalar",T:9},{no:7,name:"last_retry_at",kind:"scalar",T:3},{no:8,name:"retries",kind:"scalar",T:13}]),aC=e$.makeEnum("livekit.StreamInfo.Status",[{no:0,name:"ACTIVE"},{no:1,name:"FINISHED"},{no:2,name:"FAILED"}]),aF=e$.makeMessageType("livekit.FileInfo",()=>[{no:1,name:"filename",kind:"scalar",T:9},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3},{no:6,name:"duration",kind:"scalar",T:3},{no:4,name:"size",kind:"scalar",T:3},{no:5,name:"location",kind:"scalar",T:9}]),aB=e$.makeMessageType("livekit.SegmentsInfo",()=>[{no:1,name:"playlist_name",kind:"scalar",T:9},{no:8,name:"live_playlist_name",kind:"scalar",T:9},{no:2,name:"duration",kind:"scalar",T:3},{no:3,name:"size",kind:"scalar",T:3},{no:4,name:"playlist_location",kind:"scalar",T:9},{no:9,name:"live_playlist_location",kind:"scalar",T:9},{no:5,name:"segment_count",kind:"scalar",T:3},{no:6,name:"started_at",kind:"scalar",T:3},{no:7,name:"ended_at",kind:"scalar",T:3}]),aH=e$.makeMessageType("livekit.ImagesInfo",()=>[{no:4,name:"filename_prefix",kind:"scalar",T:9},{no:1,name:"image_count",kind:"scalar",T:3},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3}]),ax=e$.makeMessageType("livekit.AutoParticipantEgress",()=>[{no:1,name:"preset",kind:"enum",T:e$.getEnumType(ak),oneof:"options"},{no:2,name:"advanced",kind:"message",T:aD,oneof:"options"},{no:3,name:"file_outputs",kind:"message",T:ab,repeated:!0},{no:4,name:"segment_outputs",kind:"message",T:aI,repeated:!0}]),aJ=e$.makeMessageType("livekit.AutoTrackEgress",()=>[{no:1,name:"filepath",kind:"scalar",T:9},{no:5,name:"disable_manifest",kind:"scalar",T:8},{no:2,name:"s3",kind:"message",T:aA,oneof:"output"},{no:3,name:"gcp",kind:"message",T:aw,oneof:"output"},{no:4,name:"azure",kind:"message",T:aO,oneof:"output"},{no:6,name:"aliOSS",kind:"message",T:aR,oneof:"output"}]),a$=e$.makeEnum("livekit.IngressInput",[{no:0,name:"RTMP_INPUT"},{no:1,name:"WHIP_INPUT"},{no:2,name:"URL_INPUT"}]),aj=e$.makeEnum("livekit.IngressAudioEncodingPreset",[{no:0,name:"OPUS_STEREO_96KBPS"},{no:1,name:"OPUS_MONO_64KBS"}]),aK=e$.makeEnum("livekit.IngressVideoEncodingPreset",[{no:0,name:"H264_720P_30FPS_3_LAYERS"},{no:1,name:"H264_1080P_30FPS_3_LAYERS"},{no:2,name:"H264_540P_25FPS_2_LAYERS"},{no:3,name:"H264_720P_30FPS_1_LAYER"},{no:4,name:"H264_1080P_30FPS_1_LAYER"},{no:5,name:"H264_720P_30FPS_3_LAYERS_HIGH_MOTION"},{no:6,name:"H264_1080P_30FPS_3_LAYERS_HIGH_MOTION"},{no:7,name:"H264_540P_25FPS_2_LAYERS_HIGH_MOTION"},{no:8,name:"H264_720P_30FPS_1_LAYER_HIGH_MOTION"},{no:9,name:"H264_1080P_30FPS_1_LAYER_HIGH_MOTION"}]),aV=e$.makeMessageType("livekit.IngressAudioOptions",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"source",kind:"enum",T:e$.getEnumType(e8)},{no:3,name:"preset",kind:"enum",T:e$.getEnumType(aj),oneof:"encoding_options"},{no:4,name:"options",kind:"message",T:aq,oneof:"encoding_options"}]),aG=e$.makeMessageType("livekit.IngressVideoOptions",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"source",kind:"enum",T:e$.getEnumType(e8)},{no:3,name:"preset",kind:"enum",T:e$.getEnumType(aK),oneof:"encoding_options"},{no:4,name:"options",kind:"message",T:aW,oneof:"encoding_options"}]),aq=e$.makeMessageType("livekit.IngressAudioEncodingOptions",()=>[{no:1,name:"audio_codec",kind:"enum",T:e$.getEnumType(e2)},{no:2,name:"bitrate",kind:"scalar",T:13},{no:3,name:"disable_dtx",kind:"scalar",T:8},{no:4,name:"channels",kind:"scalar",T:13}]),aW=e$.makeMessageType("livekit.IngressVideoEncodingOptions",()=>[{no:1,name:"video_codec",kind:"enum",T:e$.getEnumType(e3)},{no:2,name:"frame_rate",kind:"scalar",T:1},{no:3,name:"layers",kind:"message",T:n_,repeated:!0}]),aY=(()=>[{no:1,name:"ingress_id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"stream_key",kind:"scalar",T:9},{no:4,name:"url",kind:"scalar",T:9},{no:5,name:"input_type",kind:"enum",T:e$.getEnumType(a$)},{no:13,name:"bypass_transcoding",kind:"scalar",T:8},{no:15,name:"enable_transcoding",kind:"scalar",T:8,opt:!0},{no:6,name:"audio",kind:"message",T:aV},{no:7,name:"video",kind:"message",T:aG},{no:8,name:"room_name",kind:"scalar",T:9},{no:9,name:"participant_identity",kind:"scalar",T:9},{no:10,name:"participant_name",kind:"scalar",T:9},{no:14,name:"participant_metadata",kind:"scalar",T:9},{no:11,name:"reusable",kind:"scalar",T:8},{no:12,name:"state",kind:"message",T:aY},{no:16,name:"enabled",kind:"scalar",T:8,opt:!0}],e$.makeMessageType("livekit.IngressState",()=>[{no:1,name:"status",kind:"enum",T:e$.getEnumType(aX)},{no:2,name:"error",kind:"scalar",T:9},{no:3,name:"video",kind:"message",T:az},{no:4,name:"audio",kind:"message",T:aQ},{no:5,name:"room_id",kind:"scalar",T:9},{no:7,name:"started_at",kind:"scalar",T:3},{no:8,name:"ended_at",kind:"scalar",T:3},{no:10,name:"updated_at",kind:"scalar",T:3},{no:9,name:"resource_id",kind:"scalar",T:9},{no:6,name:"tracks",kind:"message",T:np,repeated:!0}])),aX=e$.makeEnum("livekit.IngressState.Status",[{no:0,name:"ENDPOINT_INACTIVE"},{no:1,name:"ENDPOINT_BUFFERING"},{no:2,name:"ENDPOINT_PUBLISHING"},{no:3,name:"ENDPOINT_ERROR"},{no:4,name:"ENDPOINT_COMPLETE"}]),az=e$.makeMessageType("livekit.InputVideoState",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"average_bitrate",kind:"scalar",T:13},{no:3,name:"width",kind:"scalar",T:13},{no:4,name:"height",kind:"scalar",T:13},{no:5,name:"framerate",kind:"scalar",T:1}]),aQ=e$.makeMessageType("livekit.InputAudioState",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"average_bitrate",kind:"scalar",T:13},{no:3,name:"channels",kind:"scalar",T:13},{no:4,name:"sample_rate",kind:"scalar",T:13}]),aZ=e$.makeMessageType("livekit.RoomEgress",()=>[{no:1,name:"room",kind:"message",T:ag},{no:3,name:"participant",kind:"message",T:ax},{no:2,name:"tracks",kind:"message",T:aJ}]),a0=e$.makeMessageType("livekit.RoomConfiguration",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"empty_timeout",kind:"scalar",T:13},{no:3,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:11,name:"metadata",kind:"scalar",T:9},{no:5,name:"egress",kind:"message",T:aZ},{no:7,name:"min_playout_delay",kind:"scalar",T:13},{no:8,name:"max_playout_delay",kind:"scalar",T:13},{no:9,name:"sync_streams",kind:"scalar",T:8},{no:10,name:"agents",kind:"message",T:nJ,repeated:!0}]),a1=e$.makeEnum("livekit.SIPStatusCode",[{no:0,name:"SIP_STATUS_UNKNOWN"},{no:100,name:"SIP_STATUS_TRYING"},{no:180,name:"SIP_STATUS_RINGING"},{no:181,name:"SIP_STATUS_CALL_IS_FORWARDED"},{no:182,name:"SIP_STATUS_QUEUED"},{no:183,name:"SIP_STATUS_SESSION_PROGRESS"},{no:199,name:"SIP_STATUS_EARLY_DIALOG_TERMINATED"},{no:200,name:"SIP_STATUS_OK"},{no:202,name:"SIP_STATUS_ACCEPTED"},{no:204,name:"SIP_STATUS_NO_NOTIFICATION"},{no:300,name:"SIP_STATUS_MULTIPLE_CHOICES"},{no:301,name:"SIP_STATUS_MOVED_PERMANENTLY"},{no:302,name:"SIP_STATUS_MOVED_TEMPORARILY"},{no:305,name:"SIP_STATUS_USE_PROXY"},{no:380,name:"SIP_STATUS_ALTERNATIVE_SERVICE"},{no:400,name:"SIP_STATUS_BAD_REQUEST"},{no:401,name:"SIP_STATUS_UNAUTHORIZED"},{no:402,name:"SIP_STATUS_PAYMENT_REQUIRED"},{no:403,name:"SIP_STATUS_FORBIDDEN"},{no:404,name:"SIP_STATUS_NOTFOUND"},{no:405,name:"SIP_STATUS_METHOD_NOT_ALLOWED"},{no:406,name:"SIP_STATUS_NOT_ACCEPTABLE"},{no:407,name:"SIP_STATUS_PROXY_AUTH_REQUIRED"},{no:408,name:"SIP_STATUS_REQUEST_TIMEOUT"},{no:409,name:"SIP_STATUS_CONFLICT"},{no:410,name:"SIP_STATUS_GONE"},{no:411,name:"SIP_STATUS_LENGTH_REQUIRED"},{no:412,name:"SIP_STATUS_CONDITIONAL_REQUEST_FAILED"},{no:413,name:"SIP_STATUS_REQUEST_ENTITY_TOO_LARGE"},{no:414,name:"SIP_STATUS_REQUEST_URI_TOO_LONG"},{no:415,name:"SIP_STATUS_UNSUPPORTED_MEDIA_TYPE"},{no:416,name:"SIP_STATUS_REQUESTED_RANGE_NOT_SATISFIABLE"},{no:417,name:"SIP_STATUS_UNKNOWN_RESOURCE_PRIORITY"},{no:420,name:"SIP_STATUS_BAD_EXTENSION"},{no:421,name:"SIP_STATUS_EXTENSION_REQUIRED"},{no:422,name:"SIP_STATUS_SESSION_INTERVAL_TOO_SMALL"},{no:423,name:"SIP_STATUS_INTERVAL_TOO_BRIEF"},{no:424,name:"SIP_STATUS_BAD_LOCATION_INFORMATION"},{no:425,name:"SIP_STATUS_BAD_ALERT_MESSAGE"},{no:428,name:"SIP_STATUS_USE_IDENTITY_HEADER"},{no:429,name:"SIP_STATUS_PROVIDE_REFERRER_IDENTITY"},{no:430,name:"SIP_STATUS_FLOW_FAILED"},{no:433,name:"SIP_STATUS_ANONYMITY_DISALLOWED"},{no:436,name:"SIP_STATUS_BAD_IDENTITY_INFO"},{no:437,name:"SIP_STATUS_UNSUPPORTED_CERTIFICATE"},{no:438,name:"SIP_STATUS_INVALID_IDENTITY_HEADER"},{no:439,name:"SIP_STATUS_FIRST_HOP_LACKS_OUTBOUND_SUPPORT"},{no:440,name:"SIP_STATUS_MAX_BREADTH_EXCEEDED"},{no:469,name:"SIP_STATUS_BAD_INFO_PACKAGE"},{no:470,name:"SIP_STATUS_CONSENT_NEEDED"},{no:480,name:"SIP_STATUS_TEMPORARILY_UNAVAILABLE"},{no:481,name:"SIP_STATUS_CALL_TRANSACTION_DOES_NOT_EXISTS"},{no:482,name:"SIP_STATUS_LOOP_DETECTED"},{no:483,name:"SIP_STATUS_TOO_MANY_HOPS"},{no:484,name:"SIP_STATUS_ADDRESS_INCOMPLETE"},{no:485,name:"SIP_STATUS_AMBIGUOUS"},{no:486,name:"SIP_STATUS_BUSY_HERE"},{no:487,name:"SIP_STATUS_REQUEST_TERMINATED"},{no:488,name:"SIP_STATUS_NOT_ACCEPTABLE_HERE"},{no:489,name:"SIP_STATUS_BAD_EVENT"},{no:491,name:"SIP_STATUS_REQUEST_PENDING"},{no:493,name:"SIP_STATUS_UNDECIPHERABLE"},{no:494,name:"SIP_STATUS_SECURITY_AGREEMENT_REQUIRED"},{no:500,name:"SIP_STATUS_INTERNAL_SERVER_ERROR"},{no:501,name:"SIP_STATUS_NOT_IMPLEMENTED"},{no:502,name:"SIP_STATUS_BAD_GATEWAY"},{no:503,name:"SIP_STATUS_SERVICE_UNAVAILABLE"},{no:504,name:"SIP_STATUS_GATEWAY_TIMEOUT"},{no:505,name:"SIP_STATUS_VERSION_NOT_SUPPORTED"},{no:513,name:"SIP_STATUS_MESSAGE_TOO_LARGE"},{no:600,name:"SIP_STATUS_GLOBAL_BUSY_EVERYWHERE"},{no:603,name:"SIP_STATUS_GLOBAL_DECLINE"},{no:604,name:"SIP_STATUS_GLOBAL_DOES_NOT_EXIST_ANYWHERE"},{no:606,name:"SIP_STATUS_GLOBAL_NOT_ACCEPTABLE"},{no:607,name:"SIP_STATUS_GLOBAL_UNWANTED"},{no:608,name:"SIP_STATUS_GLOBAL_REJECTED"}]),a2=e$.makeEnum("livekit.SIPTransport",[{no:0,name:"SIP_TRANSPORT_AUTO"},{no:1,name:"SIP_TRANSPORT_UDP"},{no:2,name:"SIP_TRANSPORT_TCP"},{no:3,name:"SIP_TRANSPORT_TLS"}]),a3=e$.makeEnum("livekit.SIPHeaderOptions",[{no:0,name:"SIP_NO_HEADERS"},{no:1,name:"SIP_X_HEADERS"},{no:2,name:"SIP_ALL_HEADERS"}]),a9=e$.makeEnum("livekit.SIPMediaEncryption",[{no:0,name:"SIP_MEDIA_ENCRYPT_DISABLE"},{no:1,name:"SIP_MEDIA_ENCRYPT_ALLOW"},{no:2,name:"SIP_MEDIA_ENCRYPT_REQUIRE"}]),a4=e$.makeEnum("livekit.ProviderType",[{no:0,name:"PROVIDER_TYPE_UNKNOWN",localName:"UNKNOWN"},{no:1,name:"PROVIDER_TYPE_INTERNAL",localName:"INTERNAL"},{no:2,name:"PROVIDER_TYPE_EXTERNAL",localName:"EXTERNAL"}]),a6=(()=>[{no:1,name:"code",kind:"enum",T:e$.getEnumType(a1)},{no:2,name:"status",kind:"scalar",T:9}],e$.makeEnum("livekit.SIPTrunkInfo.TrunkKind",[{no:0,name:"TRUNK_LEGACY"},{no:1,name:"TRUNK_INBOUND"},{no:2,name:"TRUNK_OUTBOUND"}])),a8=(()=>[{no:1,name:"sip_trunk_id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"numbers",kind:"scalar",T:9,repeated:!0},{no:5,name:"allowed_addresses",kind:"scalar",T:9,repeated:!0},{no:6,name:"allowed_numbers",kind:"scalar",T:9,repeated:!0},{no:7,name:"auth_username",kind:"scalar",T:9},{no:8,name:"auth_password",kind:"scalar",T:9},{no:9,name:"headers",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:10,name:"headers_to_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:14,name:"attributes_to_headers",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:15,name:"include_headers",kind:"enum",T:e$.getEnumType(a3)},{no:11,name:"ringing_timeout",kind:"message",T:eK},{no:12,name:"max_call_duration",kind:"message",T:eK},{no:13,name:"krisp_enabled",kind:"scalar",T:8},{no:16,name:"media_encryption",kind:"enum",T:e$.getEnumType(a9)}],e$.makeMessageType("livekit.SIPDispatchRuleDirect",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9}])),a5=e$.makeMessageType("livekit.SIPDispatchRuleIndividual",()=>[{no:1,name:"room_prefix",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9}]),a7=e$.makeMessageType("livekit.SIPDispatchRuleCallee",()=>[{no:1,name:"room_prefix",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9},{no:3,name:"randomize",kind:"scalar",T:8}]),te=e$.makeMessageType("livekit.SIPDispatchRule",()=>[{no:1,name:"dispatch_rule_direct",kind:"message",T:a8,oneof:"rule"},{no:2,name:"dispatch_rule_individual",kind:"message",T:a5,oneof:"rule"},{no:3,name:"dispatch_rule_callee",kind:"message",T:a7,oneof:"rule"}]);()=>[{no:1,name:"sip_dispatch_rule_id",kind:"scalar",T:9},{no:2,name:"rule",kind:"message",T:te},{no:3,name:"trunk_ids",kind:"scalar",T:9,repeated:!0},{no:4,name:"hide_phone_number",kind:"scalar",T:8},{no:7,name:"inbound_numbers",kind:"scalar",T:9,repeated:!0},{no:5,name:"name",kind:"scalar",T:9},{no:6,name:"metadata",kind:"scalar",T:9},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"room_preset",kind:"scalar",T:9},{no:10,name:"room_config",kind:"message",T:a0},{no:11,name:"krisp_enabled",kind:"scalar",T:8},{no:12,name:"media_encryption",kind:"enum",T:e$.getEnumType(a9)}],()=>[{no:1,name:"city",kind:"scalar",T:9},{no:2,name:"country",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9}];var tn=e.i(51615),ta=e.i(66680);let tt=new TextEncoder,tr=new TextDecoder,ti=e=>tn.Buffer.from(e).toString("base64url");var ts=e.i(12057);class to extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,n){super(e,n),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class tm extends to{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class td extends to{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class tl extends to{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class tc extends to{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n)}}let tu=ta.webcrypto;function tT(e,n,...a){if((a=a.filter(Boolean)).length>2){let n=a.pop();e+=`one of type ${a.join(", ")}, or ${n}.`}else 2===a.length?e+=`one of type ${a[0]} or ${a[1]}.`:e+=`of type ${a[0]}.`;return null==n?e+=` Received ${n}`:"function"==typeof n&&n.name?e+=` Received function ${n.name}`:"object"==typeof n&&null!=n&&n.constructor?.name&&(e+=` Received an instance of ${n.constructor.name}`),e}let tp=(e,...n)=>tT("Key must be ",e,...n);function tk(e,n,...a){return tT(`Key for the ${e} algorithm must be `,n,...a)}let tf=e=>ts.types.isKeyObject(e)||ts.types.isCryptoKey(e),t_=["KeyObject"];function tg(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function th(e){return tg(e)&&"string"==typeof e.kty}(globalThis.CryptoKey||tu?.CryptoKey)&&t_.push("CryptoKey"),new WeakMap;let ty=(e,n)=>{let a;try{a=e instanceof ta.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof a||a<2048)throw TypeError(`${n} requires key modulusLength to be 2048 bits or larger`)},tE=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function tS(e,n="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${n} must be ${e}`)}function tb(e,n){return e.name===n}function tI(e){return parseInt(e.name.slice(4),10)}let tN=(0,ts.promisify)(ta.sign),tv=async(e,n,a)=>{let t=function(e,n,a){if(n instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(tp(n,...t_));return(0,ta.createSecretKey)(n)}if(n instanceof ta.KeyObject)return n;if(ts.types.isCryptoKey(n))return!function(e,n,...a){switch(n){case"HS256":case"HS384":case"HS512":{if(!tb(e.algorithm,"HMAC"))throw tS("HMAC");let a=parseInt(n.slice(2),10);if(tI(e.algorithm.hash)!==a)throw tS(`SHA-${a}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!tb(e.algorithm,"RSASSA-PKCS1-v1_5"))throw tS("RSASSA-PKCS1-v1_5");let a=parseInt(n.slice(2),10);if(tI(e.algorithm.hash)!==a)throw tS(`SHA-${a}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!tb(e.algorithm,"RSA-PSS"))throw tS("RSA-PSS");let a=parseInt(n.slice(2),10);if(tI(e.algorithm.hash)!==a)throw tS(`SHA-${a}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw tS("Ed25519 or Ed448");break;case"Ed25519":if(!tb(e.algorithm,"Ed25519"))throw tS("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!tb(e.algorithm,"ECDSA"))throw tS("ECDSA");let a=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(n);if(e.algorithm.namedCurve!==a)throw tS(a,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(a.length&&!a.some(n=>e.usages.includes(n))){let e="CryptoKey does not support this operation, its usages must include ";if(a.length>2){let n=a.pop();e+=`one of ${a.join(", ")}, or ${n}.`}else 2===a.length?e+=`one of ${a[0]} or ${a[1]}.`:e+=`${a[0]}.`;throw TypeError(e)}}(n,e,a),ta.KeyObject.from(n);if(th(n))return e.startsWith("HS")?(0,ta.createSecretKey)(Buffer.from(n.k,"base64url")):n;throw TypeError(tp(n,...t_,"Uint8Array","JSON Web Key"))}(e,n,"sign");if(e.startsWith("HS")){let n=ta.createHmac(function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new tm(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),t);return n.update(a),n.digest()}return tN(function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"Ed25519":case"EdDSA":return;default:throw new tm(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),a,function(e,n){let a,t,r,i;if(n instanceof ta.KeyObject)a=n.asymmetricKeyType,t=n.asymmetricKeyDetails;else switch(r=!0,n.kty){case"RSA":a="rsa";break;case"EC":a="ec";break;case"OKP":if("Ed25519"===n.crv){a="ed25519";break}if("Ed448"===n.crv){a="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(e){case"Ed25519":if("ed25519"!==a)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519");break;case"EdDSA":if(!["ed25519","ed448"].includes(a))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==a)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");ty(n,e);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===a){let{hashAlgorithm:n,mgf1HashAlgorithm:a,saltLength:r}=t,i=parseInt(e.slice(-3),10);if(void 0!==n&&(n!==`sha${i}`||a!==n))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==r&&r>i>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==a)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");ty(n,e),i={padding:ta.constants.RSA_PKCS1_PSS_PADDING,saltLength:ta.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==a)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let t=((e,n)=>{let a;if(ts.types.isCryptoKey(e))a=ta.KeyObject.from(e);else if(ts.types.isKeyObject(e))a=e;else if(th(e))return e.crv;else throw TypeError(tp(e,...t_));if("secret"===a.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(a.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${a.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${a.asymmetricKeyType.slice(1)}`;case"ec":{let e=a.asymmetricKeyDetails.namedCurve;switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new tm("Unsupported key curve for this operation")}}default:throw TypeError("Invalid asymmetric key type for this operation")}})(n),r=tE.get(e);if(t!==r)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${r}, got ${t}`);i={dsaEncoding:"ieee-p1363"};break}default:throw new tm(`alg ${e} is not supported either by JOSE or your javascript runtime`)}return r?{format:"jwk",key:n,...i}:i?{...i,key:n}:n}(e,t))},tA=e=>e?.[Symbol.toStringTag],tw=(e,n,a)=>{if(void 0!==n.use&&"sig"!==n.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==n.key_ops&&n.key_ops.includes?.(a)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${a}`);if(void 0!==n.alg&&n.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0};function tO(e,n,a,t){n.startsWith("HS")||"dir"===n||n.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(n)?((e,n,a,t)=>{if(!(n instanceof Uint8Array)){if(t&&th(n)){if(th(n)&&"oct"===n.kty&&"string"==typeof n.k&&tw(e,n,a))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!tf(n))throw TypeError(tk(e,n,...t_,"Uint8Array",t?"JSON Web Key":null));if("secret"!==n.type)throw TypeError(`${tA(n)} instances for symmetric algorithms must be of type "secret"`)}})(n,a,t,e):((e,n,a,t)=>{if(t&&th(n))switch(a){case"sign":if("oct"!==n.kty&&"string"==typeof n.d&&tw(e,n,a))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if("oct"!==n.kty&&void 0===n.d&&tw(e,n,a))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!tf(n))throw TypeError(tk(e,n,...t_,t?"JSON Web Key":null));if("secret"===n.type)throw TypeError(`${tA(n)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===a&&"public"===n.type)throw TypeError(`${tA(n)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===a&&"public"===n.type)throw TypeError(`${tA(n)} instances for asymmetric algorithm decryption must be of type "private"`);if(n.algorithm&&"verify"===a&&"private"===n.type)throw TypeError(`${tA(n)} instances for asymmetric algorithm verifying must be of type "public"`);if(n.algorithm&&"encrypt"===a&&"private"===n.type)throw TypeError(`${tA(n)} instances for asymmetric algorithm encryption must be of type "public"`)})(n,a,t,e)}tO.bind(void 0,!1);let tR=tO.bind(void 0,!0),tP=function(e,n,a,t,r){let i;if(void 0!==r.crit&&t?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!t||void 0===t.crit)return new Set;if(!Array.isArray(t.crit)||0===t.crit.length||t.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(i=void 0!==a?new Map([...Object.entries(a),...n.entries()]):n,t.crit)){if(!i.has(s))throw new tm(`Extension Header Parameter "${s}" is not recognized`);if(void 0===r[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(i.get(s)&&void 0===t[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(t.crit)};class tU{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,n){let a;if(!this._protectedHeader&&!this._unprotectedHeader)throw new td("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!((...e)=>{let n,a=e.filter(Boolean);if(0===a.length||1===a.length)return!0;for(let e of a){let a=Object.keys(e);if(!n||0===n.size){n=new Set(a);continue}for(let e of a){if(n.has(e))return!1;n.add(e)}}return!0})(this._protectedHeader,this._unprotectedHeader))throw new td("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let t={...this._protectedHeader,...this._unprotectedHeader},r=tP(td,new Map([["b64",!0]]),n?.crit,this._protectedHeader,t),i=!0;if(r.has("b64")&&"boolean"!=typeof(i=this._protectedHeader.b64))throw new td('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:s}=t;if("string"!=typeof s||!s)throw new td('JWS "alg" (Algorithm) Header Parameter missing or invalid');tR(s,e,"sign");let o=this._payload;i&&(o=tt.encode(ti(o)));let m=function(...e){let n=new Uint8Array(e.reduce((e,{length:n})=>e+n,0)),a=0;for(let t of e)n.set(t,a),a+=t.length;return n}(a=this._protectedHeader?tt.encode(ti(JSON.stringify(this._protectedHeader))):tt.encode(""),tt.encode("."),o),d={signature:ti(await tv(s,e,m)),payload:""};return i&&(d.payload=tr.decode(o)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=tr.decode(a)),d}}class tD{_flattened;constructor(e){this._flattened=new tU(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,n){let a=await this._flattened.sign(e,n);if(void 0===a.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${a.protected}.${a.payload}.${a.signature}`}}let tL=e=>Math.floor(e.getTime()/1e3),tM=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tC=e=>{let n,a=tM.exec(e);if(!a||a[4]&&a[1])throw TypeError("Invalid time period format");let t=parseFloat(a[2]);switch(a[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(t);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(60*t);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(3600*t);break;case"day":case"days":case"d":n=Math.round(86400*t);break;case"week":case"weeks":case"w":n=Math.round(604800*t);break;default:n=Math.round(0x1e187e0*t)}return"-"===a[1]||"ago"===a[4]?-n:n};function tF(e,n){if(!Number.isFinite(n))throw TypeError(`Invalid ${e} input`);return n}class tB{_payload;constructor(e={}){if(!tg(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tF("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tF("setNotBefore",tL(e))}:this._payload={...this._payload,nbf:tL(new Date)+tC(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tF("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tF("setExpirationTime",tL(e))}:this._payload={...this._payload,exp:tL(new Date)+tC(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tL(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tF("setIssuedAt",tL(e))}:"string"==typeof e?this._payload={...this._payload,iat:tF("setIssuedAt",tL(new Date)+tC(e))}:this._payload={...this._payload,iat:tF("setIssuedAt",e)},this}}class tH extends tB{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,n){let a=new tD(tt.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new tl("JWTs MUST NOT use unencoded payload");return a.sign(e,n)}}function tx(e){switch(e){case e8.CAMERA:return"camera";case e8.MICROPHONE:return"microphone";case e8.SCREEN_SHARE:return"screen_share";case e8.SCREEN_SHARE_AUDIO:return"screen_share_audio";default:throw TypeError(`Cannot convert TrackSource ${e} to string`)}}(0,ts.promisify)(ta.verify);class tJ{constructor(e,n,a){if(e||(e=process.env.LIVEKIT_API_KEY),n||(n=process.env.LIVEKIT_API_SECRET),e&&n)"undefined"!=typeof document&&console.error("You should not include your API secret in your web client bundle.\n\nYour web client should request a token from your backend server which should then use the API secret to generate a token. See https://docs.livekit.io/client/connect/");else throw Error("api-key and api-secret must be set");this.apiKey=e,this.apiSecret=n,this.grants={},this.identity=null==a?void 0:a.identity,this.ttl=(null==a?void 0:a.ttl)||"6h","number"==typeof this.ttl&&(this.ttl=`${this.ttl}s`),(null==a?void 0:a.metadata)&&(this.metadata=a.metadata),(null==a?void 0:a.attributes)&&(this.attributes=a.attributes),(null==a?void 0:a.name)&&(this.name=a.name)}addGrant(e){this.grants.video={...this.grants.video??{},...e}}addInferenceGrant(e){this.grants.inference={...this.grants.inference??{},...e}}addSIPGrant(e){this.grants.sip={...this.grants.sip??{},...e}}addObservabilityGrant(e){this.grants.observability={...this.grants.observability??{},...e}}get name(){return this.grants.name}set name(e){this.grants.name=e}get metadata(){return this.grants.metadata}set metadata(e){this.grants.metadata=e}get attributes(){return this.grants.attributes}set attributes(e){this.grants.attributes=e}get kind(){return this.grants.kind}set kind(e){this.grants.kind=e}get sha256(){return this.grants.sha256}set sha256(e){this.grants.sha256=e}get roomPreset(){return this.grants.roomPreset}set roomPreset(e){this.grants.roomPreset=e}get roomConfig(){return this.grants.roomConfig}set roomConfig(e){this.grants.roomConfig=e}async toJwt(){var e,n;let a,t=new TextEncoder().encode(this.apiSecret),r=new tH((Array.isArray(null==(n=(a={...this.grants}).video)?void 0:n.canPublishSources)&&(a.video.canPublishSources=a.video.canPublishSources.map(tx)),a)).setProtectedHeader({alg:"HS256"}).setIssuer(this.apiKey).setExpirationTime(this.ttl).setNotBefore(0);if(this.identity)r.setSubject(this.identity);else if(null==(e=this.grants.video)?void 0:e.roomJoin)throw Error("identity is required for join but not set");return r.sign(t)}}var t$=e.i(50064),tj=e.i(9939),tK=e.i(28499);let tV={randomUUID:ta.randomUUID},tG=new Uint8Array(256),tq=tG.length,tW=[];for(let e=0;e<256;++e)tW.push((e+256).toString(16).slice(1));let tY=function(e,n,a){if(tV.randomUUID&&!n&&!e)return tV.randomUUID();var t=e,r=a;let i=(t=t||{}).random??t.rng?.()??(tq>tG.length-16&&((0,ta.randomFillSync)(tG),tq=0),tG.slice(tq,tq+=16));if(i.length<16)throw Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){if((r=r||0)<0||r+16>n.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)n[r+e]=i[e];return n}return function(e,n=0){return(tW[e[n+0]]+tW[e[n+1]]+tW[e[n+2]]+tW[e[n+3]]+"-"+tW[e[n+4]]+tW[e[n+5]]+"-"+tW[e[n+6]]+tW[e[n+7]]+"-"+tW[e[n+8]]+tW[e[n+9]]+"-"+tW[e[n+10]]+tW[e[n+11]]+tW[e[n+12]]+tW[e[n+13]]+tW[e[n+14]]+tW[e[n+15]]).toLowerCase()}(i)},tX=process.env.LIVEKIT_API_KEY||"",tz=process.env.LIVEKIT_API_SECRET||"",tQ=process.env.LIVEKIT_SERVER_URL||"wss://your-livekit-server.com",tZ=process.env.ZITADEL_ISSUER_URL||"",t0=process.env.ZITADEL_CLIENT_ID||"",t1="false"!==process.env.REQUIRE_AUTH,t2=process.env.JWT_ALGORITHM||"RS256";async function t3(e){if(!t1)return{sub:"mock-user",preferred_username:"mock-user",name:"Mock User"};if(!tZ)throw Error("ZITADEL_ISSUER_URL is not configured");let n=t$.createRemoteJWKSet(new URL(`${tZ}/oauth/v2/keys`));try{let{payload:a}=await tj.jwtVerify(e,n,{issuer:tZ,audience:t0,algorithms:[t2]});return a}catch(e){if(e instanceof tK.errors.JWTExpired)throw Error("Token has expired");if(e instanceof tK.errors.JWTInvalid)throw Error("Invalid token");throw Error(`Token verification failed: ${e instanceof Error?e.message:"Unknown error"}`)}}async function t9(e,n,a){if(!tX||!tz)throw Error("LiveKit API credentials are not configured");if(!e)throw Error("room_name cannot be empty");if(!n)throw Error("participant_identity cannot be empty");let t=new tJ(tX,tz,{identity:n});return a&&(t.name=a),t.addGrant({roomJoin:!0,room:e,canPublish:!0,canSubscribe:!0}),await t.toJwt()}async function t4(e){try{let n,{room_name:a,participant_name:t}=await e.json();if(!a)return A.NextResponse.json({detail:"room_name is required"},{status:400});let r=e.headers.get("authorization");if(r&&r.startsWith("Bearer ")){let e=r.substring(7);n=await t3(e)}else{if(t1)return A.NextResponse.json({detail:"Authentication required"},{status:401});n={sub:"mock-user",preferred_username:"mock-user",name:"Mock User"}}let i=n.sub||n.preferred_username||"user",s=tY().substring(0,8),o=`${i}-${s}`,m=t||n.name||n.preferred_username||i,d=await t9(a,o,m);return A.NextResponse.json({token:d,url:tQ})}catch(e){if(console.error("Error generating token:",e),e instanceof Error){if(e.message.includes("Token")||e.message.includes("token"))return A.NextResponse.json({detail:e.message},{status:401});if(e.message.includes("required")||e.message.includes("cannot be empty"))return A.NextResponse.json({detail:e.message},{status:400})}return A.NextResponse.json({detail:"Failed to generate token"},{status:500})}}e.s(["POST",()=>t4],30276);var t6=e.i(30276);let t8=new d.AppRouteRouteModule({definition:{kind:l.RouteKind.APP_ROUTE,page:"/api/tokens/route",pathname:"/api/tokens",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/tokens/route.ts",nextConfigOutput:"standalone",userland:t6}),{workAsyncStorage:t5,workUnitAsyncStorage:t7,serverHooks:re}=t8;function rn(){return(0,c.patchFetch)({workAsyncStorage:t5,workUnitAsyncStorage:t7})}async function ra(e,n,a){t8.isDev&&(0,u.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let t="/api/tokens/route";t=t.replace(/\/index$/,"")||"/";let r=await t8.prepare(e,n,{srcPage:t,multiZoneDraftMode:!1});if(!r)return n.statusCode=400,n.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:i,params:s,nextConfig:o,parsedUrl:m,isDraftMode:d,prerenderManifest:c,routerServerContext:A,isOnDemandRevalidate:w,revalidateOnlyGenerated:O,resolvedPathname:R,clientReferenceManifest:P,serverActionsManifest:U}=r,D=(0,f.normalizeAppPath)(t),L=!!(c.dynamicRoutes[D]||c.routes[R]),M=async()=>((null==A?void 0:A.render404)?await A.render404(e,n,m,!1):n.end("This page could not be found"),null);if(L&&!d){let e=!!c.routes[R],n=c.dynamicRoutes[D];if(n&&!1===n.fallback&&!e){if(o.experimental.adapterPath)return await M();throw new N.NoFallbackError}}let C=null;!L||t8.isDev||d||(C="/index"===(C=R)?"/":C);let F=!0===t8.isDev||!L,B=L&&!F;U&&P&&(0,p.setReferenceManifestsSingleton)({page:t,clientReferenceManifest:P,serverActionsManifest:U,serverModuleMap:(0,k.createServerModuleMap)({serverActionsManifest:U})});let H=e.method||"GET",x=(0,T.getTracer)(),J=x.getActiveScopeSpan(),$={params:s,prerenderManifest:c,renderOpts:{experimental:{authInterrupts:!!o.experimental.authInterrupts},cacheComponents:!!o.cacheComponents,supportsDynamicResponse:F,incrementalCache:(0,u.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:o.cacheLife,waitUntil:a.waitUntil,onClose:e=>{n.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(n,a,t)=>t8.onRequestError(e,n,t,A)},sharedContext:{buildId:i}},j=new _.NodeNextRequest(e),K=new _.NodeNextResponse(n),V=g.NextRequestAdapter.fromNodeNextRequest(j,(0,g.signalFromNodeResponse)(n));try{let r=async e=>t8.handle(V,$).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":n.statusCode,"next.rsc":!1});let a=x.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==h.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=a.get("next.route");if(r){let n=`${H} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":n}),e.updateName(n)}else e.updateName(`${H} ${t}`)}),i=!!(0,u.getRequestMeta)(e,"minimalMode"),s=async s=>{var m,u;let T=async({previousCacheEntry:o})=>{try{if(!i&&w&&O&&!o)return n.statusCode=404,n.setHeader("x-nextjs-cache","REVALIDATED"),n.end("This page could not be found"),null;let t=await r(s);e.fetchMetrics=$.renderOpts.fetchMetrics;let m=$.renderOpts.pendingWaitUntil;m&&a.waitUntil&&(a.waitUntil(m),m=void 0);let d=$.renderOpts.collectedTags;if(!L)return await (0,E.sendResponse)(j,K,t,$.renderOpts.pendingWaitUntil),null;{let e=await t.blob(),n=(0,S.toNodeOutgoingHttpHeaders)(t.headers);d&&(n[I.NEXT_CACHE_TAGS_HEADER]=d),!n["content-type"]&&e.type&&(n["content-type"]=e.type);let a=void 0!==$.renderOpts.collectedRevalidate&&!($.renderOpts.collectedRevalidate>=I.INFINITE_CACHE)&&$.renderOpts.collectedRevalidate,r=void 0===$.renderOpts.collectedExpire||$.renderOpts.collectedExpire>=I.INFINITE_CACHE?void 0:$.renderOpts.collectedExpire;return{value:{kind:v.CachedRouteKind.APP_ROUTE,status:t.status,body:Buffer.from(await e.arrayBuffer()),headers:n},cacheControl:{revalidate:a,expire:r}}}}catch(n){throw(null==o?void 0:o.isStale)&&await t8.onRequestError(e,n,{routerKind:"App Router",routePath:t,routeType:"route",revalidateReason:(0,y.getRevalidateReason)({isStaticGeneration:B,isOnDemandRevalidate:w})},A),n}},p=await t8.handleResponse({req:e,nextConfig:o,cacheKey:C,routeKind:l.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:c,isRoutePPREnabled:!1,isOnDemandRevalidate:w,revalidateOnlyGenerated:O,responseGenerator:T,waitUntil:a.waitUntil,isMinimalMode:i});if(!L)return null;if((null==p||null==(m=p.value)?void 0:m.kind)!==v.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==p||null==(u=p.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||n.setHeader("x-nextjs-cache",w?"REVALIDATED":p.isMiss?"MISS":p.isStale?"STALE":"HIT"),d&&n.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let k=(0,S.fromNodeOutgoingHttpHeaders)(p.value.headers);return i&&L||k.delete(I.NEXT_CACHE_TAGS_HEADER),!p.cacheControl||n.getHeader("Cache-Control")||k.get("Cache-Control")||k.set("Cache-Control",(0,b.getCacheControlHeader)(p.cacheControl)),await (0,E.sendResponse)(j,K,new Response(p.value.body,{headers:k,status:p.value.status||200})),null};J?await s(J):await x.withPropagatedContext(e.headers,()=>x.trace(h.BaseServerSpan.handleRequest,{spanName:`${H} ${t}`,kind:T.SpanKind.SERVER,attributes:{"http.method":H,"http.target":e.url}},s))}catch(n){if(n instanceof N.NoFallbackError||await t8.onRequestError(e,n,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,y.getRevalidateReason)({isStaticGeneration:B,isOnDemandRevalidate:w})}),L)throw n;return await (0,E.sendResponse)(j,K,new Response(null,{status:500})),null}}e.s(["handler",()=>ra,"patchFetch",()=>rn,"routeModule",()=>t8,"serverHooks",()=>re,"workAsyncStorage",()=>t5,"workUnitAsyncStorage",()=>t7],78473)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__94506930._.js.map